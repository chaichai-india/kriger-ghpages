(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{FhbL:function(n,t,e){"use strict";e.r(t);var l=e("CcnG"),u=function(){return function(){}}(),o=e("pMnS"),i=e("bujt"),r=e("UodH"),a=e("dWZg"),s=e("lLAP"),c=e("wFw1"),p=e("Ip0R"),d=e("Mr+X"),b=e("SMsm"),m=e("MBfO"),h=e("Z+uX"),g=e("gIcY"),f=e("dJrM"),C=e("seP3"),v=e("Wf4p"),x=e("Fzqc"),A=e("/VYK"),y=e("b716"),w=e("mrSG"),k=(e("ey9i"),e("YeHE")),_=(e("3KC0"),e("bfU7"),e("K81y"),e("meT2"),e("15JJ")),F=e("t/Na"),B=function(){function n(n,t,e,l,u,o,i){this.formBuilder=n,this.postService=t,this.profileService=e,this.router=l,this.ng2ImgMax=u,this.sanitizer=o,this.snackbarService=i,this.imageBtnClicked=!1,this.pdfBtnClicked=!1,this.uploadprogress=0,this.progressmode="determinate",this.message=""}return n.prototype.openSnackBar=function(n,t){this.snackbarService.openSnackBar(n,t)},n.prototype.removeImage=function(){this.imageBtnClicked=!1,this.imagePreview="",this.imageName="",this.image.nativeElement.value=null,this.postForm.controls.image.reset(),this.postImage=null,this.openSnackBar("Image removed!","REMOVED")},n.prototype.removePdf=function(){this.pdfBtnClicked=!1,this.pdfName="",this.pdf.nativeElement.value=null,this.postForm.controls.pdf.reset(),this.postPdf=null,this.openSnackBar("PDF removed!","REMOVED")},n.prototype.onImageChange=function(n){var t=this,e=n.target.files[0];this.imageName=e.name,this.imageBtnClicked=!0,this.ng2ImgMax.compressImage(e,.075,!0).subscribe(function(n){t.postImage=new File([n],n.name,{type:n.type}),t.getImagePreview(t.postImage)},function(n){console.log("\ud83d\ude22 Oh no!",n),t.removeImage(),t.message="Unsupported image type"})},n.prototype.onPdfChange=function(n){var t=n.target.files[0];return"pdf"!=t.name.slice(-3)?(this.removePdf(),void(this.message="Attached file is not pdf!!")):t.size>2e7?(this.removePdf(),void(this.message="Attached PDF size exceeds allowed limit of 20 MB!")):(this.postPdf=t,this.pdfName=t.name,void(this.pdfBtnClicked=!0))},n.prototype.getImagePreview=function(n){var t=this,e=new FileReader;e.readAsDataURL(n),e.onload=function(){t.imagePreview=e.result}},n.prototype.getHashtags=function(n){var t=n.match(/\B\#\w\w+\b/g);return t?t.map(function(n){return n.replace("#","")}):[]},n.prototype.postSubmit=function(){return w.__awaiter(this,void 0,void 0,function(){var n,t,e,l,u,o,i=this;return w.__generator(this,function(r){switch(r.label){case 0:return this.message="",e=this.postImage?this.postImage:null,l=this.postPdf?this.postPdf:null,""===(t=(t=void 0===(n=this.postForm.value.text)?"":n).trim())?(this.message="Post text content cannot be empty!",[2]):e&&l?(this.removeImage(),this.removePdf(),this.message="Only 1 attachment allowed!",[2]):(this.progress=!0,u=this.getHashtags(t),this.newPost={text:t,mention_tag:u,media_type:0},e?(this.newPost.media_type=1,o=e):l&&(this.newPost.media_type=2,o=l),this.postForm.reset(),this.postform.resetForm(),[4,this.profileService.getUser()]);case 1:return r.sent().pipe(Object(_.a)(function(n){return i.postService.createPost({user_id:n._id,body:i.newPost,file:o})})).subscribe(function(n){if(n.type===F.f.Response)console.log("post created successfully"),i.redirectTo("posts");else if(n.type===F.f.UploadProgress){var t=Math.round(100*n.loaded/n.total);i.uploadprogress=t,100===i.uploadprogress&&(i.progressmode="indeterminate"),console.log("Progress "+t+"%")}},function(n){i.progress=!1,i.message="Something went wrong!",console.log({error:n})},function(){return console.log("create post complete")}),[2]}})})},n.prototype.redirectTo=function(n){var t=this;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(function(){return t.router.navigate([n])})},n.prototype.buildform=function(){this.postForm=this.formBuilder.group({text:["",[g.t.required]],image:[null],pdf:[null]})},n.prototype.ngOnInit=function(){this.buildform()},n}(),D=e("jaXT"),E=e("FFoR"),M=e("ZYCi"),P=e("ZYjt"),O=e("4xmj"),S=l.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{width:100%;display:grid;place-items:center;margin-bottom:.75em;margin-top:1rem;background-color:#fff;padding:1em;box-shadow:var(--primary-box-shadow)}form.post-form[_ngcontent-%COMP%]{width:100%}  mat-form-field#text .mat-form-field-wrapper{padding-bottom:0}#image[_ngcontent-%COMP%], #text[_ngcontent-%COMP%]{width:100%}.labels__container[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;margin-top:.2em}.labels[_ngcontent-%COMP%]{display:flex;width:36px;height:36px;justify-content:center;align-items:center;cursor:pointer;border-radius:50%;color:#fff;background-color:var(--primary-color);margin-right:.5em}.labels[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.labels[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto}#preview[_ngcontent-%COMP%]{display:grid;grid-gap:1em;margin-top:1em}#preview[_ngcontent-%COMP%], #preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}#preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;-o-object-fit:contain;object-fit:contain}#preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80px;justify-self:center}button#submit[_ngcontent-%COMP%]:disabled, button#submit[_ngcontent-%COMP%]:enabled{margin-left:auto}button#submit[_ngcontent-%COMP%]:enabled{background-color:var(--primary-color);color:#fff;float:right}.flash-message[_ngcontent-%COMP%]{color:var(--danger-color);padding:1rem 0}progress[_ngcontent-%COMP%]::-webkit-progress-inner-value{transition:width .1s ease}"]],data:{}});function I(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,function(n,t){var e=t.component;n(t,0,0,e.sanitizer.bypassSecurityTrustUrl(e.imagePreview))})}function T(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,2,"button",[["color","warn"],["mat-flat-button",""],["type","button"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.removeImage()&&l),l},i.d,i.b)),l.rb(1,180224,null,0,r.b,[l.k,a.a,s.e,[2,c.a]],{color:[0,"color"]},null),(n()(),l.Kb(-1,0,[" Remove "]))],function(n,t){n(t,1,0,"warn")},function(n,t){n(t,0,0,l.Cb(t,1).disabled||null,"NoopAnimations"===l.Cb(t,1)._animationMode)})}function j(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,4,"figure",[["id","preview"]],null,null,null,null,null)),(n()(),l.kb(16777216,null,null,1,null,I)),l.rb(2,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.kb(16777216,null,null,1,null,T)),l.rb(4,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,2,0,e.imagePreview),n(t,4,0,e.imageBtnClicked)},null)}function q(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,3,"label",[["for","image"],["mat-icon-button",""]],null,null,null,null,null)),(n()(),l.sb(1,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,d.b,d.a)),l.rb(2,9158656,null,0,b.b,[l.k,b.d,[8,null],[2,b.a]],null,null),(n()(),l.Kb(3,0,["",""]))],function(n,t){n(t,2,0)},function(n,t){var e=t.component;n(t,1,0,l.Cb(t,2).inline,"primary"!==l.Cb(t,2).color&&"accent"!==l.Cb(t,2).color&&"warn"!==l.Cb(t,2).color),n(t,3,0,e.imageBtnClicked?"photo":"add_photo_alternate")})}function z(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,2,"div",[["class","labels"]],null,null,null,null,null)),(n()(),l.kb(16777216,null,null,1,null,q)),l.rb(2,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,2,0,!e.pdfBtnClicked&&!e.imageBtnClicked)},null)}function R(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,3,"label",[["for","pdf"],["mat-icon-button",""]],null,null,null,null,null)),(n()(),l.sb(1,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,d.b,d.a)),l.rb(2,9158656,null,0,b.b,[l.k,b.d,[8,null],[2,b.a]],null,null),(n()(),l.Kb(-1,0,["picture_as_pdf"]))],function(n,t){n(t,2,0)},function(n,t){n(t,1,0,l.Cb(t,2).inline,"primary"!==l.Cb(t,2).color&&"accent"!==l.Cb(t,2).color&&"warn"!==l.Cb(t,2).color)})}function N(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,2,"div",[["class","labels"]],null,null,null,null,null)),(n()(),l.kb(16777216,null,null,1,null,R)),l.rb(2,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,2,0,!e.pdfBtnClicked&&!e.imageBtnClicked)},null)}function L(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l.Kb(1,null,["",""]))],null,function(n,t){n(t,1,0,t.component.pdfName)})}function U(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,4,"button",[["mat-icon-button",""],["type","button"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.removePdf()&&l),l},i.d,i.b)),l.rb(1,180224,null,0,r.b,[l.k,a.a,s.e,[2,c.a]],null,null),(n()(),l.sb(2,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,d.b,d.a)),l.rb(3,9158656,null,0,b.b,[l.k,b.d,[8,null],[2,b.a]],null,null),(n()(),l.Kb(-1,0,["close"]))],function(n,t){n(t,3,0)},function(n,t){n(t,0,0,l.Cb(t,1).disabled||null,"NoopAnimations"===l.Cb(t,1)._animationMode),n(t,2,0,l.Cb(t,3).inline,"primary"!==l.Cb(t,3).color&&"accent"!==l.Cb(t,3).color&&"warn"!==l.Cb(t,3).color)})}function H(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,4,"div",[["class","pdfselect"]],null,null,null,null,null)),(n()(),l.kb(16777216,null,null,1,null,L)),l.rb(2,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.kb(16777216,null,null,1,null,U)),l.rb(4,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,2,0,e.pdfName),n(t,4,0,e.pdfBtnClicked)},null)}function K(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,1,"mat-progress-bar",[["aria-valuemax","100"],["aria-valuemin","0"],["class","mat-progress-bar"],["role","progressbar"],["style","margin-top: 1em;"]],[[1,"aria-valuenow",0],[1,"mode",0],[2,"_mat-animation-noopable",null]],null,null,m.b,m.a)),l.rb(1,4374528,null,0,h.b,[l.k,l.B,[2,c.a],[2,h.a]],{value:[0,"value"],mode:[1,"mode"]},null)],function(n,t){var e=t.component;n(t,1,0,e.uploadprogress,e.progressmode)},function(n,t){n(t,0,0,l.Cb(t,1).value,l.Cb(t,1).mode,l.Cb(t,1)._isNoopAnimation)})}function W(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,1,"p",[["class","flash-message"]],null,null,null,null,null)),(n()(),l.Kb(1,null,["",""]))],null,function(n,t){n(t,1,0,t.component.message)})}function $(n){return l.Mb(0,[l.Ib(402653184,1,{postform:0}),l.Ib(402653184,2,{autosize:0}),l.Ib(402653184,3,{image:0}),l.Ib(402653184,4,{pdf:0}),(n()(),l.sb(4,0,null,null,57,"form",[["class","post-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,e){var u=!0,o=n.component;return"submit"===t&&(u=!1!==l.Cb(n,8).onSubmit(e)&&u),"reset"===t&&(u=!1!==l.Cb(n,8).onReset()&&u),"ngSubmit"===t&&(u=!1!==o.postSubmit()&&u),u},null,null)),l.rb(5,278528,null,0,p.q,[l.v,l.k,l.G],{ngStyle:[0,"ngStyle"]},null),l.Fb(6,{"pointer-events":0}),l.rb(7,16384,null,0,g.v,[],null,null),l.rb(8,540672,[[1,4],["postform",4]],0,g.g,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),l.Hb(2048,null,g.c,null,[g.g]),l.rb(10,16384,null,0,g.n,[[4,g.c]],null,null),(n()(),l.sb(11,0,null,null,26,"mat-form-field",[["appearance","outline"],["class","mat-form-field"],["id","text"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,f.b,f.a)),l.rb(12,7520256,null,7,C.c,[l.k,l.h,[2,v.f],[2,x.b],[2,C.a],a.a,l.B,[2,c.a]],{appearance:[0,"appearance"]},null),l.Ib(335544320,5,{_control:0}),l.Ib(335544320,6,{_placeholderChild:0}),l.Ib(335544320,7,{_labelChild:0}),l.Ib(603979776,8,{_errorChildren:1}),l.Ib(603979776,9,{_hintChildren:1}),l.Ib(603979776,10,{_prefixChildren:1}),l.Ib(603979776,11,{_suffixChildren:1}),(n()(),l.sb(20,0,[["text",1]],1,11,"textarea",[["cdkAutosizeMaxRows","10"],["cdkAutosizeMinRows","5"],["cdkTextareaAutosize",""],["class","cdk-textarea-autosize mat-input-element mat-form-field-autofill-control"],["formControlName","text"],["matInput",""],["maxlength","5000"],["placeholder","Grow your knowledge by sharing. Don't post any political or unparliamentary content."],["required",""],["rows","1"],["wrap","hard"]],[[1,"required",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,t,e){var u=!0;return"input"===t&&(u=!1!==l.Cb(n,21)._handleInput(e.target.value)&&u),"blur"===t&&(u=!1!==l.Cb(n,21).onTouched()&&u),"compositionstart"===t&&(u=!1!==l.Cb(n,21)._compositionStart()&&u),"compositionend"===t&&(u=!1!==l.Cb(n,21)._compositionEnd(e.target.value)&&u),"input"===t&&(u=!1!==l.Cb(n,29)._noopInputHandler()&&u),"blur"===t&&(u=!1!==l.Cb(n,30)._focusChanged(!1)&&u),"focus"===t&&(u=!1!==l.Cb(n,30)._focusChanged(!0)&&u),"input"===t&&(u=!1!==l.Cb(n,30)._onInput()&&u),u},null,null)),l.rb(21,16384,null,0,g.d,[l.G,l.k,[2,g.a]],null,null),l.rb(22,16384,null,0,g.s,[],{required:[0,"required"]},null),l.rb(23,540672,null,0,g.i,[],{maxlength:[0,"maxlength"]},null),l.Hb(1024,null,g.j,function(n,t){return[n,t]},[g.s,g.i]),l.Hb(1024,null,g.k,function(n){return[n]},[g.d]),l.rb(26,671744,null,0,g.f,[[3,g.c],[6,g.j],[8,null],[6,g.k],[2,g.x]],{name:[0,"name"]},null),l.Hb(2048,null,g.l,null,[g.f]),l.rb(28,16384,null,0,g.m,[[4,g.l]],null,null),l.rb(29,4603904,[[2,4],["autosize",4]],0,A.b,[l.k,a.a,l.B],{minRows:[0,"minRows"],maxRows:[1,"maxRows"],enabled:[2,"enabled"]},null),l.rb(30,999424,null,0,y.a,[l.k,a.a,[6,g.l],[2,g.o],[2,g.g],v.b,[8,null],A.a,l.B],{placeholder:[0,"placeholder"],required:[1,"required"]},null),l.Hb(2048,[[5,4]],C.d,null,[y.a]),(n()(),l.sb(32,0,null,1,5,"small",[["class","text-counter"],["style","float: right;"]],null,null,null,null,null)),(n()(),l.sb(33,0,null,null,1,"code",[],null,null,null,null,null)),(n()(),l.Kb(34,null,["",""])),(n()(),l.Kb(-1,null,[" of "])),(n()(),l.sb(36,0,null,null,1,"code",[],null,null,null,null,null)),(n()(),l.Kb(-1,null,["5000"])),(n()(),l.sb(38,0,[[3,0],["image",1]],null,5,"input",[["accept","image/jpeg, image/png"],["formControlName","image"],["id","image"],["name","image"],["style","display: none;"],["type","file"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var u=!0,o=n.component;return"input"===t&&(u=!1!==l.Cb(n,39)._handleInput(e.target.value)&&u),"blur"===t&&(u=!1!==l.Cb(n,39).onTouched()&&u),"compositionstart"===t&&(u=!1!==l.Cb(n,39)._compositionStart()&&u),"compositionend"===t&&(u=!1!==l.Cb(n,39)._compositionEnd(e.target.value)&&u),"change"===t&&(u=!1!==o.onImageChange(e)&&u),u},null,null)),l.rb(39,16384,null,0,g.d,[l.G,l.k,[2,g.a]],null,null),l.Hb(1024,null,g.k,function(n){return[n]},[g.d]),l.rb(41,671744,null,0,g.f,[[3,g.c],[8,null],[8,null],[6,g.k],[2,g.x]],{name:[0,"name"]},null),l.Hb(2048,null,g.l,null,[g.f]),l.rb(43,16384,null,0,g.m,[[4,g.l]],null,null),(n()(),l.sb(44,0,[[4,0],["pdf",1]],null,5,"input",[["accept","application/pdf"],["formControlName","pdf"],["id","pdf"],["name","pdf"],["style","display: none;"],["type","file"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var u=!0,o=n.component;return"input"===t&&(u=!1!==l.Cb(n,45)._handleInput(e.target.value)&&u),"blur"===t&&(u=!1!==l.Cb(n,45).onTouched()&&u),"compositionstart"===t&&(u=!1!==l.Cb(n,45)._compositionStart()&&u),"compositionend"===t&&(u=!1!==l.Cb(n,45)._compositionEnd(e.target.value)&&u),"change"===t&&(u=!1!==o.onPdfChange(e)&&u),u},null,null)),l.rb(45,16384,null,0,g.d,[l.G,l.k,[2,g.a]],null,null),l.Hb(1024,null,g.k,function(n){return[n]},[g.d]),l.rb(47,671744,null,0,g.f,[[3,g.c],[8,null],[8,null],[6,g.k],[2,g.x]],{name:[0,"name"]},null),l.Hb(2048,null,g.l,null,[g.f]),l.rb(49,16384,null,0,g.m,[[4,g.l]],null,null),(n()(),l.kb(16777216,null,null,1,null,j)),l.rb(51,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.sb(52,0,null,null,9,"div",[["class","labels__container"]],null,null,null,null,null)),(n()(),l.kb(16777216,null,null,1,null,z)),l.rb(54,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.kb(16777216,null,null,1,null,N)),l.rb(56,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.kb(16777216,null,null,1,null,H)),l.rb(58,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.sb(59,0,null,null,2,"button",[["id","submit"],["mat-raised-button",""],["type","submit"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,i.d,i.b)),l.rb(60,180224,null,0,r.b,[l.k,a.a,s.e,[2,c.a]],{disabled:[0,"disabled"]},null),(n()(),l.Kb(-1,0,[" Post "])),(n()(),l.kb(16777216,null,null,1,null,K)),l.rb(63,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.kb(16777216,null,null,1,null,W)),l.rb(65,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component,l=n(t,6,0,e.progress?"none":"inherit");n(t,5,0,l),n(t,8,0,e.postForm),n(t,12,0,"outline"),n(t,22,0,""),n(t,23,0,"5000"),n(t,26,0,"text"),n(t,29,0,"5","10",""),n(t,30,0,"Grow your knowledge by sharing. Don't post any political or unparliamentary content.",""),n(t,41,0,"image"),n(t,47,0,"pdf"),n(t,51,0,e.imagePreview),n(t,54,0,!e.pdfBtnClicked&&!e.imageBtnClicked),n(t,56,0,!e.pdfBtnClicked&&!e.imageBtnClicked),n(t,58,0,e.pdfBtnClicked),n(t,60,0,!e.postForm.valid),n(t,63,0,e.progress),n(t,65,0,e.message)},function(n,t){n(t,4,0,l.Cb(t,10).ngClassUntouched,l.Cb(t,10).ngClassTouched,l.Cb(t,10).ngClassPristine,l.Cb(t,10).ngClassDirty,l.Cb(t,10).ngClassValid,l.Cb(t,10).ngClassInvalid,l.Cb(t,10).ngClassPending),n(t,11,1,["standard"==l.Cb(t,12).appearance,"fill"==l.Cb(t,12).appearance,"outline"==l.Cb(t,12).appearance,"legacy"==l.Cb(t,12).appearance,l.Cb(t,12)._control.errorState,l.Cb(t,12)._canLabelFloat,l.Cb(t,12)._shouldLabelFloat(),l.Cb(t,12)._hasFloatingLabel(),l.Cb(t,12)._hideControlPlaceholder(),l.Cb(t,12)._control.disabled,l.Cb(t,12)._control.autofilled,l.Cb(t,12)._control.focused,"accent"==l.Cb(t,12).color,"warn"==l.Cb(t,12).color,l.Cb(t,12)._shouldForward("untouched"),l.Cb(t,12)._shouldForward("touched"),l.Cb(t,12)._shouldForward("pristine"),l.Cb(t,12)._shouldForward("dirty"),l.Cb(t,12)._shouldForward("valid"),l.Cb(t,12)._shouldForward("invalid"),l.Cb(t,12)._shouldForward("pending"),!l.Cb(t,12)._animationsEnabled]),n(t,20,1,[l.Cb(t,22).required?"":null,l.Cb(t,23).maxlength?l.Cb(t,23).maxlength:null,l.Cb(t,28).ngClassUntouched,l.Cb(t,28).ngClassTouched,l.Cb(t,28).ngClassPristine,l.Cb(t,28).ngClassDirty,l.Cb(t,28).ngClassValid,l.Cb(t,28).ngClassInvalid,l.Cb(t,28).ngClassPending,l.Cb(t,30)._isServer,l.Cb(t,30).id,l.Cb(t,30).placeholder,l.Cb(t,30).disabled,l.Cb(t,30).required,l.Cb(t,30).readonly&&!l.Cb(t,30)._isNativeSelect||null,l.Cb(t,30)._ariaDescribedby||null,l.Cb(t,30).errorState,l.Cb(t,30).required.toString()]),n(t,34,0,l.Cb(t,20).value.length),n(t,38,0,l.Cb(t,43).ngClassUntouched,l.Cb(t,43).ngClassTouched,l.Cb(t,43).ngClassPristine,l.Cb(t,43).ngClassDirty,l.Cb(t,43).ngClassValid,l.Cb(t,43).ngClassInvalid,l.Cb(t,43).ngClassPending),n(t,44,0,l.Cb(t,49).ngClassUntouched,l.Cb(t,49).ngClassTouched,l.Cb(t,49).ngClassPristine,l.Cb(t,49).ngClassDirty,l.Cb(t,49).ngClassValid,l.Cb(t,49).ngClassInvalid,l.Cb(t,49).ngClassPending),n(t,59,0,l.Cb(t,60).disabled||null,"NoopAnimations"===l.Cb(t,60)._animationMode)})}var V=e("FVSy"),G=function(){function n(n,t,e,l){this.formBuilder=n,this.profileService=t,this.commentService=e,this.snackbarService=l}return n.prototype.buildform=function(){this.postCommentForm=this.formBuilder.group({text:["",[g.t.required]]})},n.prototype.openSnackBar=function(n,t){this.snackbarService.openSnackBar(n,t)},n.prototype.getHashtags=function(n){var t=n.match(/\B\#\w\w+\b/g);return t?t.map(function(n){return n.replace("#","")}):[]},n.prototype.postCommentSubmit=function(){return w.__awaiter(this,void 0,void 0,function(){var n,t,e,l=this;return w.__generator(this,function(u){switch(u.label){case 0:return""==(n=this.postCommentForm.value.text)?[2]:(console.log(n),t=this.getHashtags(n),console.log({mention_tag:t}),e={text:n,mention_tag:t},this.postCommentForm.reset(),this.postcommentform.resetForm(),this.progress=!0,[4,this.profileService.getUser()]);case 1:return u.sent().pipe(Object(_.a)(function(n){return l.commentService.setComment({user_id:n._id,post_id:l.postid,body:e})})).subscribe(function(n){if(n.type===F.f.Response){l.openSnackBar("Comment","Success");var t=Math.round(+new Date/1e3);l.commentService.updateNewComment(w.__assign({},e,{timestamp:t,post_id:l.postid}))}},function(n){l.openSnackBar("Comment","Failed")},function(){l.progress=!1}),[2]}})})},n.prototype.ngOnInit=function(){this.buildform()},n}(),Z=e("QGWN"),X=l.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{width:100%;display:grid;place-items:center;margin-bottom:.75em;margin-top:1.5em}form.post-comment-form[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center}form.post-comment-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:enabled{background-color:var(--primary-color)}form.post-comment-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:1em}  mat-form-field#comment-text .mat-form-field-wrapper{padding-bottom:0}  mat-form-field#comment-text .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix{padding-top:0!important;padding-bottom:8px!important}#comment-text[_ngcontent-%COMP%]{flex:1}#comment-text[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:22px;height:22px}  .success-dialog .mat-simple-snackbar-action{color:var(--primary-color)!important}"]],data:{}});function Y(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,1,"mat-progress-bar",[["aria-valuemax","100"],["aria-valuemin","0"],["class","mat-progress-bar"],["mode","indeterminate"],["role","progressbar"],["style","margin-top: 1em"]],[[1,"aria-valuenow",0],[1,"mode",0],[2,"_mat-animation-noopable",null]],null,null,m.b,m.a)),l.rb(1,4374528,null,0,h.b,[l.k,l.B,[2,c.a],[2,h.a]],{mode:[0,"mode"]},null)],function(n,t){n(t,1,0,"indeterminate")},function(n,t){n(t,0,0,l.Cb(t,1).value,l.Cb(t,1).mode,l.Cb(t,1)._isNoopAnimation)})}function J(n){return l.Mb(0,[l.Ib(402653184,1,{autosize:0}),l.Ib(402653184,2,{postcommentform:0}),(n()(),l.sb(2,0,null,null,30,"form",[["class","post-comment-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,e){var u=!0,o=n.component;return"submit"===t&&(u=!1!==l.Cb(n,4).onSubmit(e)&&u),"reset"===t&&(u=!1!==l.Cb(n,4).onReset()&&u),"ngSubmit"===t&&(u=!1!==o.postCommentSubmit()&&u),u},null,null)),l.rb(3,16384,null,0,g.v,[],null,null),l.rb(4,540672,[[2,4],["postcommentform",4]],0,g.g,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),l.Hb(2048,null,g.c,null,[g.g]),l.rb(6,16384,null,0,g.n,[[4,g.c]],null,null),(n()(),l.sb(7,0,null,null,20,"mat-form-field",[["appearance","outline"],["class","mat-form-field"],["id","comment-text"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,f.b,f.a)),l.rb(8,7520256,null,7,C.c,[l.k,l.h,[2,v.f],[2,x.b],[2,C.a],a.a,l.B,[2,c.a]],{appearance:[0,"appearance"]},null),l.Ib(335544320,3,{_control:0}),l.Ib(335544320,4,{_placeholderChild:0}),l.Ib(335544320,5,{_labelChild:0}),l.Ib(603979776,6,{_errorChildren:1}),l.Ib(603979776,7,{_hintChildren:1}),l.Ib(603979776,8,{_prefixChildren:1}),l.Ib(603979776,9,{_suffixChildren:1}),(n()(),l.sb(16,0,[["commenttext",1]],1,11,"textarea",[["cdkAutosizeMaxRows","10"],["cdkAutosizeMinRows","1"],["cdkTextareaAutosize",""],["class","cdk-textarea-autosize mat-input-element mat-form-field-autofill-control"],["formControlName","text"],["matInput",""],["maxlength","5000"],["placeholder","Share your thoughts!"],["required",""],["rows","1"],["wrap","hard"]],[[1,"required",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,t,e){var u=!0;return"input"===t&&(u=!1!==l.Cb(n,17)._handleInput(e.target.value)&&u),"blur"===t&&(u=!1!==l.Cb(n,17).onTouched()&&u),"compositionstart"===t&&(u=!1!==l.Cb(n,17)._compositionStart()&&u),"compositionend"===t&&(u=!1!==l.Cb(n,17)._compositionEnd(e.target.value)&&u),"input"===t&&(u=!1!==l.Cb(n,25)._noopInputHandler()&&u),"blur"===t&&(u=!1!==l.Cb(n,26)._focusChanged(!1)&&u),"focus"===t&&(u=!1!==l.Cb(n,26)._focusChanged(!0)&&u),"input"===t&&(u=!1!==l.Cb(n,26)._onInput()&&u),u},null,null)),l.rb(17,16384,null,0,g.d,[l.G,l.k,[2,g.a]],null,null),l.rb(18,16384,null,0,g.s,[],{required:[0,"required"]},null),l.rb(19,540672,null,0,g.i,[],{maxlength:[0,"maxlength"]},null),l.Hb(1024,null,g.j,function(n,t){return[n,t]},[g.s,g.i]),l.Hb(1024,null,g.k,function(n){return[n]},[g.d]),l.rb(22,671744,null,0,g.f,[[3,g.c],[6,g.j],[8,null],[6,g.k],[2,g.x]],{name:[0,"name"]},null),l.Hb(2048,null,g.l,null,[g.f]),l.rb(24,16384,null,0,g.m,[[4,g.l]],null,null),l.rb(25,4603904,[[1,4],["commentautosize",4]],0,A.b,[l.k,a.a,l.B],{minRows:[0,"minRows"],maxRows:[1,"maxRows"],enabled:[2,"enabled"]},null),l.rb(26,999424,null,0,y.a,[l.k,a.a,[6,g.l],[2,g.o],[2,g.g],v.b,[8,null],A.a,l.B],{placeholder:[0,"placeholder"],required:[1,"required"]},null),l.Hb(2048,[[3,4]],C.d,null,[y.a]),(n()(),l.sb(28,0,null,null,4,"button",[["mat-mini-fab",""],["type","submit"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,i.d,i.b)),l.rb(29,180224,null,0,r.b,[l.k,a.a,s.e,[2,c.a]],{disabled:[0,"disabled"]},null),(n()(),l.sb(30,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,d.b,d.a)),l.rb(31,9158656,null,0,b.b,[l.k,b.d,[8,null],[2,b.a]],null,null),(n()(),l.Kb(-1,0,["send"])),(n()(),l.kb(16777216,null,null,1,null,Y)),l.rb(34,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,4,0,e.postCommentForm),n(t,8,0,"outline"),n(t,18,0,""),n(t,19,0,"5000"),n(t,22,0,"text"),n(t,25,0,"1","10",""),n(t,26,0,"Share your thoughts!",""),n(t,29,0,!e.postCommentForm.valid),n(t,31,0),n(t,34,0,e.progress)},function(n,t){n(t,2,0,l.Cb(t,6).ngClassUntouched,l.Cb(t,6).ngClassTouched,l.Cb(t,6).ngClassPristine,l.Cb(t,6).ngClassDirty,l.Cb(t,6).ngClassValid,l.Cb(t,6).ngClassInvalid,l.Cb(t,6).ngClassPending),n(t,7,1,["standard"==l.Cb(t,8).appearance,"fill"==l.Cb(t,8).appearance,"outline"==l.Cb(t,8).appearance,"legacy"==l.Cb(t,8).appearance,l.Cb(t,8)._control.errorState,l.Cb(t,8)._canLabelFloat,l.Cb(t,8)._shouldLabelFloat(),l.Cb(t,8)._hasFloatingLabel(),l.Cb(t,8)._hideControlPlaceholder(),l.Cb(t,8)._control.disabled,l.Cb(t,8)._control.autofilled,l.Cb(t,8)._control.focused,"accent"==l.Cb(t,8).color,"warn"==l.Cb(t,8).color,l.Cb(t,8)._shouldForward("untouched"),l.Cb(t,8)._shouldForward("touched"),l.Cb(t,8)._shouldForward("pristine"),l.Cb(t,8)._shouldForward("dirty"),l.Cb(t,8)._shouldForward("valid"),l.Cb(t,8)._shouldForward("invalid"),l.Cb(t,8)._shouldForward("pending"),!l.Cb(t,8)._animationsEnabled]),n(t,16,1,[l.Cb(t,18).required?"":null,l.Cb(t,19).maxlength?l.Cb(t,19).maxlength:null,l.Cb(t,24).ngClassUntouched,l.Cb(t,24).ngClassTouched,l.Cb(t,24).ngClassPristine,l.Cb(t,24).ngClassDirty,l.Cb(t,24).ngClassValid,l.Cb(t,24).ngClassInvalid,l.Cb(t,24).ngClassPending,l.Cb(t,26)._isServer,l.Cb(t,26).id,l.Cb(t,26).placeholder,l.Cb(t,26).disabled,l.Cb(t,26).required,l.Cb(t,26).readonly&&!l.Cb(t,26)._isNativeSelect||null,l.Cb(t,26)._ariaDescribedby||null,l.Cb(t,26).errorState,l.Cb(t,26).required.toString()]),n(t,28,0,l.Cb(t,29).disabled||null,"NoopAnimations"===l.Cb(t,29)._animationMode),n(t,30,0,l.Cb(t,31).inline,"primary"!==l.Cb(t,31).color&&"accent"!==l.Cb(t,31).color&&"warn"!==l.Cb(t,31).color)})}var Q=e("lzlj"),nn=e("y+Ks"),tn=e("rP27"),en=e("Pcws"),ln=e("LWQm"),un=function(){function n(n,t,e){this.profileService=n,this.commentService=t,this.router=e,this.count_likes=0}return n.prototype.setProfileUrl=function(n){var t=n.account_type;this.profileUrl="/in/"+["learner","educator","institute"][void 0===t?0:t]+"/"+n.username},n.prototype.redirectTo=function(n){var t=this;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(function(){return t.router.navigate([n])})},n.prototype.likeComment=function(){return w.__awaiter(this,void 0,void 0,function(){var n,t,e,l=this;return w.__generator(this,function(u){switch(u.label){case 0:return e=(n=this.comment).post_id,(t=n._id)?(this.toggleLikeState(),[4,this.profileService.getUser()]):(this.redirectTo("posts/"+e),[2]);case 1:return u.sent().pipe(Object(_.a)(function(n){return l.commentService.likeComment({post_id:e,user_id:n._id,comment_id:t,like:+l.liked})})).subscribe(function(n){return console.log("comment like response",n)},function(n){return l.likeError(n)},function(){return console.log("comment like complete!")}),[2]}})})},n.prototype.likeError=function(n){console.log("post like error",n),this.toggleLikeState()},n.prototype.toggleLikeState=function(){this.liked=!this.liked,this.liked?this.count_likes++:this.count_likes--},n.prototype.initialize=function(){var n=this.comment,t=n.user,e=n.count_likes,l=void 0===e?0:e;this.liked=!!n.is_like,this.count_likes=+l,this.setProfileUrl(t)},n.prototype.ngOnInit=function(){this.initialize()},n}(),on=l.qb({encapsulation:0,styles:[[".comment-card[_ngcontent-%COMP%]{margin-bottom:0;box-shadow:none;border-radius:0;padding:.5em 0}.comment-header-image[_ngcontent-%COMP%]{background-size:cover;background-position:center;position:relative}.comment-header-image[_ngcontent-%COMP%]   app-user-badge[_ngcontent-%COMP%]{position:absolute;top:34px;left:-4px;width:48px}.comment-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:14px;line-height:20px}.comment-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{font-size:12px;line-height:16px}.comment-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-weight:400;color:#000;padding:0;max-width:100%;white-space:pre-line}.comment-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:14px;line-height:20px;color:rgba(0,0,0,.6);padding:0;border-bottom:1px solid rgba(0,0,0,.54);align-items:center}a#profile_link[_ngcontent-%COMP%]{all:unset;cursor:pointer;width:100%}.header-text[_ngcontent-%COMP%]{width:calc(100% - 64px);margin-left:-8px}mat-card-subtitle[_ngcontent-%COMP%] > p[_ngcontent-%COMP%], mat-card-title[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}"]],data:{}});function rn(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),l.Kb(1,null,["@",""]))],null,function(n,t){var e=t.component;n(t,1,0,null==e.comment?null:e.comment.user.username)})}function an(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),l.Kb(1,null,["",""]))],null,function(n,t){var e=t.component;n(t,1,0,null==e.comment?null:e.comment.user.headline)})}function sn(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,43,"mat-card",[["class","comment-card mat-card"]],null,null,null,Q.d,Q.a)),l.rb(1,49152,null,0,V.a,[],null,null),(n()(),l.sb(2,0,null,0,21,"a",[["id","profile_link"]],[[8,"href",4]],null,null,null,null)),(n()(),l.sb(3,0,null,null,20,"mat-card-header",[["class","mat-card-header"]],null,null,null,Q.c,Q.b)),l.rb(4,49152,null,0,V.e,[],null,null),(n()(),l.sb(5,0,null,0,5,"div",[["class","comment-header-image mat-card-avatar"],["mat-card-avatar",""],["style","cursor: pointer;"]],null,null,null,null,null)),l.rb(6,278528,null,0,p.q,[l.v,l.k,l.G],{ngStyle:[0,"ngStyle"]},null),l.Fb(7,{"background-image":0}),l.rb(8,16384,null,0,V.c,[],null,null),(n()(),l.sb(9,0,null,null,1,"app-user-badge",[],null,null,null,nn.b,nn.a)),l.rb(10,114688,null,0,tn.a,[],{account_type:[0,"account_type"]},null),(n()(),l.sb(11,0,null,2,12,"div",[["class","header-text"]],null,null,null,null,null)),(n()(),l.sb(12,0,null,null,2,"mat-card-title",[["class","mat-card-title"],["style","cursor: pointer; margin-bottom: 6px;"]],null,null,null,null,null)),l.rb(13,16384,null,0,V.i,[],null,null),(n()(),l.Kb(14,null,["",""])),(n()(),l.sb(15,0,null,null,8,"mat-card-subtitle",[["class","mat-card-subtitle"],["style","margin-bottom: 6px;"]],null,null,null,null,null)),l.rb(16,16384,null,0,V.h,[],null,null),(n()(),l.kb(16777216,null,null,1,null,rn)),l.rb(18,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.kb(16777216,null,null,1,null,an)),l.rb(20,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.Kb(21,null,[" "," "])),l.Gb(22,1),l.Gb(23,2),(n()(),l.sb(24,0,null,0,3,"mat-card-content",[["class","mat-card-content"],["style","margin-bottom: 0;"]],null,null,null,null,null)),l.rb(25,16384,null,0,V.d,[],null,null),(n()(),l.sb(26,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),l.Kb(27,null,["",""])),(n()(),l.sb(28,0,null,0,15,"mat-card-actions",[["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),l.rb(29,16384,null,0,V.b,[],null,null),(n()(),l.sb(30,0,null,null,3,"mat-card-subtitle",[["class","mat-card-subtitle"],["style","margin-bottom: 0; margin-left: 8px;"]],null,null,null,null,null)),l.rb(31,16384,null,0,V.h,[],null,null),(n()(),l.sb(32,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l.Kb(33,null,[" "," Likes "])),(n()(),l.sb(34,0,null,null,9,"button",[["appDebounceClick",""],["mat-button",""],["style","padding: 0; margin: 0;"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"debounceClick"],[null,"click"]],function(n,t,e){var u=!0,o=n.component;return"click"===t&&(u=!1!==l.Cb(n,38).clickEvent(e)&&u),"debounceClick"===t&&(u=!1!==o.likeComment()&&u),u},i.d,i.b)),l.rb(35,278528,null,0,p.q,[l.v,l.k,l.G],{ngStyle:[0,"ngStyle"]},null),l.Fb(36,{color:0}),l.rb(37,180224,null,0,r.b,[l.k,a.a,s.e,[2,c.a]],null,null),l.rb(38,212992,null,0,en.a,[],null,{debounceClick:"debounceClick"}),(n()(),l.sb(39,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,d.b,d.a)),l.rb(40,9158656,null,0,b.b,[l.k,b.d,[8,null],[2,b.a]],null,null),(n()(),l.Kb(-1,0,["thumb_up_alt"])),(n()(),l.sb(42,0,null,0,1,"span",[],null,null,null,null,null)),(n()(),l.Kb(-1,null,["Like"]))],function(n,t){var e=t.component,l=n(t,7,0,"url("+(null==e.comment?null:null==e.comment.user?null:e.comment.user.thumb)+"), url(../../../assets/images/user.svg)");n(t,6,0,l),n(t,10,0,null==e.comment?null:null==e.comment.user?null:e.comment.user.account_type),n(t,18,0,null==e.comment?null:null==e.comment.user?null:e.comment.user.username),n(t,20,0,null==e.comment?null:null==e.comment.user?null:e.comment.user.headline);var u=n(t,36,0,e.liked?"var(--primary-color)":"inherit");n(t,35,0,u),n(t,38,0),n(t,40,0)},function(n,t){var e=t.component;n(t,2,0,l.ub(1,"",e.profileUrl,"")),n(t,14,0,null==e.comment?null:null==e.comment.user?null:e.comment.user.name);var u=l.Lb(t,21,0,n(t,23,0,l.Cb(t.parent,0),l.Lb(t,21,0,n(t,22,0,l.Cb(t.parent,1),null==e.comment?null:e.comment.timestamp)),"LL"));n(t,21,0,u),n(t,27,0,e.comment.text),n(t,28,0,"end"===l.Cb(t,29).align),n(t,33,0,e.count_likes),n(t,34,0,l.Cb(t,37).disabled||null,"NoopAnimations"===l.Cb(t,37)._animationMode),n(t,39,0,l.Cb(t,40).inline,"primary"!==l.Cb(t,40).color&&"accent"!==l.Cb(t,40).color&&"warn"!==l.Cb(t,40).color)})}function cn(n){return l.Mb(0,[l.Eb(0,ln.a,[]),l.Eb(0,ln.b,[]),(n()(),l.kb(16777216,null,null,1,null,sn)),l.rb(3,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,3,0,t.component.comment)},null)}var pn=e("26FU"),dn=e("t9fZ"),bn=e("d/rN"),mn=function(){function n(n,t,e){this.commentService=n,this.profileService=t,this.dialog=e,this.comments=new pn.a([]),this.comments$=this.comments.asObservable(),this.loading=new pn.a(!0),this.loading$=this.loading.asObservable(),this.error=new pn.a(!1),this.error$=this.error.asObservable()}return n.prototype.getComments=function(){return w.__awaiter(this,void 0,void 0,function(){var n,t=this;return w.__generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.profileService.getUser()];case 1:return e.sent().pipe(Object(_.a)(function(n){return t.commentService.getComments({post_id:t.postid,user_id:n._id})}),Object(dn.a)(1)).subscribe(function(n){var e=n.map(function(n){return w.__assign({},n,{post_id:t.postid})});console.log({comments:e}),t.comments.next(e)},function(n){t.loading.next(!1),console.log(n)},function(){t.loading.next(!1),console.log("getComments completed!")}),[3,3];case 2:return n=e.sent(),this.loading.next(!1),this.error.next(!0),console.log(n),"No user logged in"===n&&this.openDialog(),[3,3];case 3:return[2]}})})},n.prototype.openDialog=function(){this.dialog.open(bn.a)},n.prototype.addNewCommentToList=function(n){return w.__awaiter(this,void 0,void 0,function(){var t=this;return w.__generator(this,function(e){switch(e.label){case 0:return n.post_id!==this.postid?[3,2]:[4,this.profileService.getUser()];case 1:e.sent().pipe(Object(_.a)(function(n){return t.profileService.getUserDetail({user_id:n._id})})).subscribe(function(e){var l=w.__assign({user:e},n),u=t.comments.getValue();t.comments.next([l].concat(u))}),e.label=2;case 2:return[2]}})})},n.prototype.ngOnInit=function(){var n=this;this.getComments(),this.commentService.new_comment_added$.subscribe(function(t){t&&n.addNewCommentToList(t)})},n}(),hn=e("o3x0"),gn=l.qb({encapsulation:0,styles:[[".comment-list__header[_ngcontent-%COMP%]{margin:2rem 0 1rem}"]],data:{}});function fn(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,1,"app-comment",[],null,null,null,cn,on)),l.rb(1,114688,null,0,un,[E.a,Z.a,M.o],{comment:[0,"comment"]},null)],function(n,t){n(t,1,0,t.context.$implicit)},null)}function Cn(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,6,"div",[["class","comment-list__container"]],null,null,null,null,null)),(n()(),l.sb(1,0,null,null,2,"p",[["class","comment-list__header"]],null,null,null,null,null)),(n()(),l.Kb(2,null,[""," Comments"])),l.Eb(131072,p.b,[l.h]),(n()(),l.kb(16777216,null,null,2,null,fn)),l.rb(5,278528,null,0,p.m,[l.S,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),l.Eb(131072,p.b,[l.h])],function(n,t){var e=t.component;n(t,5,0,l.Lb(t,5,0,l.Cb(t,6).transform(e.comments$)))},function(n,t){var e=t.component;n(t,2,0,l.Lb(t,2,0,l.Cb(t,3).transform(e.comments$)).length)})}function vn(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,1,"div",[["class","comment-list__loading"]],null,null,null,null,null)),(n()(),l.Kb(-1,null,[" Loading comments...\n"]))],null,null)}function xn(n){return l.Mb(0,[(n()(),l.kb(16777216,null,null,3,null,Cn)),l.rb(1,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null),l.Eb(131072,p.b,[l.h]),l.Eb(131072,p.b,[l.h]),(n()(),l.kb(16777216,null,null,2,null,vn)),l.rb(5,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null),l.Eb(131072,p.b,[l.h])],function(n,t){var e=t.component;n(t,1,0,!l.Lb(t,1,0,l.Cb(t,2).transform(e.loading$))&&!l.Lb(t,1,0,l.Cb(t,3).transform(e.error$))),n(t,5,0,l.Lb(t,5,0,l.Cb(t,6).transform(e.loading$)))},null)}var An=e("a8W+"),yn=e.n(An),wn=function(){function n(){}return n.prototype.transform=function(n,t){return yn.a.link(n,t)},n}(),kn=function(){return function(){}}(),_n=function(){function n(n,t,e){this.dialog=n,this.profileService=t,this.postService=e,this.liked=!1,this.count_likes=0}return n.prototype.openDialog=function(){this.dialog.open(bn.a)},n.prototype.likePost=function(){return w.__awaiter(this,void 0,void 0,function(){var n,t,e=this;return w.__generator(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),n=this.post._id,this.toggleLikeState(),[4,this.profileService.getUser()];case 1:return l.sent().pipe(Object(_.a)(function(t){return e.postService.likePost({post_id:n,user_id:t._id,like:+e.liked})})).subscribe(function(n){return console.log("post like response",n)},function(n){return e.likeError(n)},function(){return console.log("post like complete!")}),[3,3];case 2:return t=l.sent(),console.log(t),this.likeError(t),[3,3];case 3:return[2]}})})},n.prototype.likeError=function(n){console.log("post like error",n),"No user logged in"===n&&this.openDialog(),this.toggleLikeState()},n.prototype.toggleLikeState=function(){this.liked=!this.liked,this.liked?this.count_likes++:this.count_likes--},n.prototype.openShare=function(){this.dialog.open(Fn,{data:{key:this.post._id}}).afterClosed().subscribe(function(n){})},n.prototype.setProfileUrl=function(n){var t=n.account_type;this.profileUrl="/in/"+["learner","educator","institute"][void 0===t?0:t]+"/"+n.username},n.prototype.initialize=function(n){return w.__awaiter(this,void 0,void 0,function(){var t,e,l,u,o,i,r=this;return w.__generator(this,function(a){switch(a.label){case 0:t=n.user,l=n.count_likes,o=void 0!==(u=n.extended)&&u,this.liked=!(void 0===(e=n.is_like)||!e),this.count_likes=l,this.setProfileUrl(t),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.profileService.getUser()];case 2:return a.sent().pipe(Object(dn.a)(1)).subscribe(function(n){o&&(r.showComments=!0),r.isLoggedIn=!0}),[3,4];case 3:return i=a.sent(),console.log(i),"No user logged in"===i&&(this.isLoggedIn=!1),[3,4];case 4:return[2]}})})},n.prototype.ngOnInit=function(){this.initialize(this.post)},n}(),Fn=function(){return function(n,t){this.dialogRef=n,this.data=t,this.isCopied=!1}}(),Bn=e("Axip"),Dn=l.qb({encapsulation:0,styles:[[".post-card[_ngcontent-%COMP%]{margin-bottom:1em;box-shadow:0 0 0 1px rgba(0,0,0,.15),0 2px 3px rgba(0,0,0,.2);border-radius:0}.post-header-image[_ngcontent-%COMP%]{background-size:cover;background-position:center;position:relative}.post-header-image[_ngcontent-%COMP%]   app-user-badge[_ngcontent-%COMP%]{position:absolute;top:34px;left:-4px;width:48px}a#profile_link[_ngcontent-%COMP%]{all:unset;cursor:pointer;width:100%}.header-text[_ngcontent-%COMP%]{width:calc(100% - 64px);margin-left:-8px}mat-card-subtitle[_ngcontent-%COMP%] > p[_ngcontent-%COMP%], mat-card-title[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.post-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:14px;line-height:20px}.post-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{font-size:12px;line-height:16px}.post-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-weight:400;color:#000;padding:0;max-width:100%;white-space:pre-line}.post-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around;font-size:14px;line-height:20px;color:rgba(0,0,0,.6);padding:0;background-color:#f8f8f8;margin:0 -16px -16px}.post-pdf[_ngcontent-%COMP%]{width:100%;height:96px;border:1px solid #000;border-radius:8px;margin:1em 0;display:flex;align-items:center;padding:1em;text-decoration:none;color:#000;font-size:1em}"]],data:{}});function En(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),l.Kb(1,null,["@",""]))],null,function(n,t){var e=t.component;n(t,1,0,null==e.post?null:e.post.user.username)})}function Mn(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),l.Kb(1,null,["",""])),(n()(),l.sb(2,0,null,null,0,"br",[],null,null,null,null,null))],null,function(n,t){var e=t.component;n(t,1,0,null==e.post?null:e.post.user.headline)})}function Pn(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,1,"img",[["alt",""],["class","mat-card-image"],["mat-card-image",""]],[[8,"src",4]],null,null,null,null)),l.rb(1,16384,null,0,V.f,[],null,null)],null,function(n,t){var e=t.component;n(t,0,0,l.ub(1,"",null==e.post?null:e.post.image_url_original,""))})}function On(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,3,"a",[["class","post-pdf"],["rel","noopener"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(n()(),l.sb(1,0,null,null,0,"img",[["alt","pdf attachment"],["height","64px"],["src","assets/images/icons/pdf.png"],["width","64px"]],null,null,null,null,null)),(n()(),l.sb(2,0,null,null,1,"span",[["style","margin-left: 1em;"]],null,null,null,null,null)),(n()(),l.Kb(-1,null,["Click here to open"]))],null,function(n,t){var e=t.component;n(t,0,0,l.ub(1,"",null==e.post?null:e.post.pdf_url,""))})}function Sn(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,1,"app-create-comment",[],null,null,null,J,X)),l.rb(1,114688,null,0,G,[g.e,E.a,Z.a,O.a],{postid:[0,"postid"]},null)],function(n,t){n(t,1,0,t.component.post._id)},null)}function In(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,1,"app-comment-list",[],null,null,null,xn,gn)),l.rb(1,114688,null,0,mn,[Z.a,E.a,hn.e],{postid:[0,"postid"]},null)],function(n,t){n(t,1,0,t.component.post._id)},null)}function Tn(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,72,"mat-card",[["class","post-card mat-card"]],null,null,null,Q.d,Q.a)),l.rb(1,49152,null,0,V.a,[],null,null),(n()(),l.sb(2,0,null,0,21,"a",[["id","profile_link"]],[[8,"href",4]],null,null,null,null)),(n()(),l.sb(3,0,null,null,20,"mat-card-header",[["class","mat-card-header"]],null,null,null,Q.c,Q.b)),l.rb(4,49152,null,0,V.e,[],null,null),(n()(),l.sb(5,0,null,0,5,"div",[["class","post-header-image mat-card-avatar"],["mat-card-avatar",""],["style","cursor: pointer;"]],null,null,null,null,null)),l.rb(6,278528,null,0,p.q,[l.v,l.k,l.G],{ngStyle:[0,"ngStyle"]},null),l.Fb(7,{"background-image":0}),l.rb(8,16384,null,0,V.c,[],null,null),(n()(),l.sb(9,0,null,null,1,"app-user-badge",[],null,null,null,nn.b,nn.a)),l.rb(10,114688,null,0,tn.a,[],{account_type:[0,"account_type"]},null),(n()(),l.sb(11,0,null,2,12,"div",[["class","header-text"]],null,null,null,null,null)),(n()(),l.sb(12,0,null,null,2,"mat-card-title",[["class","mat-card-title"],["style","cursor: pointer; margin-bottom: 6px;"]],null,null,null,null,null)),l.rb(13,16384,null,0,V.i,[],null,null),(n()(),l.Kb(14,null,["",""])),(n()(),l.sb(15,0,null,null,8,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),l.rb(16,16384,null,0,V.h,[],null,null),(n()(),l.kb(16777216,null,null,1,null,En)),l.rb(18,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.kb(16777216,null,null,1,null,Mn)),l.rb(20,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.Kb(21,null,[" "," "])),l.Gb(22,1),l.Gb(23,2),(n()(),l.sb(24,0,null,0,5,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),l.rb(25,16384,null,0,V.d,[],null,null),(n()(),l.sb(26,0,null,null,3,"p",[],[[8,"innerHTML",1]],null,null,null,null)),l.Fb(27,{length:0,location:1}),l.Fb(28,{truncate:0}),l.Gb(29,2),(n()(),l.kb(16777216,null,0,1,null,Pn)),l.rb(31,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.kb(16777216,null,0,1,null,On)),l.rb(33,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.sb(34,0,null,0,7,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),l.rb(35,16384,null,0,V.h,[],null,null),(n()(),l.sb(36,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l.Kb(37,null,[" "," Views "])),(n()(),l.sb(38,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l.Kb(39,null,[" "," Likes "])),(n()(),l.sb(40,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l.Kb(41,null,[" "," Comments "])),(n()(),l.sb(42,0,null,0,26,"mat-card-actions",[["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),l.rb(43,16384,null,0,V.b,[],null,null),(n()(),l.sb(44,0,null,null,9,"button",[["appDebounceClick",""],["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"debounceClick"],[null,"click"]],function(n,t,e){var u=!0,o=n.component;return"click"===t&&(u=!1!==l.Cb(n,48).clickEvent(e)&&u),"debounceClick"===t&&(u=!1!==o.likePost()&&u),u},i.d,i.b)),l.rb(45,278528,null,0,p.q,[l.v,l.k,l.G],{ngStyle:[0,"ngStyle"]},null),l.Fb(46,{color:0}),l.rb(47,180224,null,0,r.b,[l.k,a.a,s.e,[2,c.a]],null,null),l.rb(48,212992,null,0,en.a,[],null,{debounceClick:"debounceClick"}),(n()(),l.sb(49,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,d.b,d.a)),l.rb(50,9158656,null,0,b.b,[l.k,b.d,[8,null],[2,b.a]],null,null),(n()(),l.Kb(-1,0,["thumb_up_alt"])),(n()(),l.sb(52,0,null,0,1,"span",[],null,null,null,null,null)),(n()(),l.Kb(-1,null,["Like"])),(n()(),l.sb(54,0,null,null,7,"button",[["appDebounceClick",""],["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"debounceClick"],[null,"click"]],function(n,t,e){var u=!0,o=n.component;return"click"===t&&(u=!1!==l.Cb(n,56).clickEvent(e)&&u),"debounceClick"===t&&(u=0!=(o.showComments=!o.showComments)&&u),u},i.d,i.b)),l.rb(55,180224,null,0,r.b,[l.k,a.a,s.e,[2,c.a]],null,null),l.rb(56,212992,null,0,en.a,[],null,{debounceClick:"debounceClick"}),(n()(),l.sb(57,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,d.b,d.a)),l.rb(58,9158656,null,0,b.b,[l.k,b.d,[8,null],[2,b.a]],null,null),(n()(),l.Kb(-1,0,["comment"])),(n()(),l.sb(60,0,null,0,1,"span",[],null,null,null,null,null)),(n()(),l.Kb(-1,null,["Comment"])),(n()(),l.sb(62,0,null,null,6,"button",[["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.openShare()&&l),l},i.d,i.b)),l.rb(63,180224,null,0,r.b,[l.k,a.a,s.e,[2,c.a]],null,null),(n()(),l.sb(64,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,d.b,d.a)),l.rb(65,9158656,null,0,b.b,[l.k,b.d,[8,null],[2,b.a]],null,null),(n()(),l.Kb(-1,0,["share"])),(n()(),l.sb(67,0,null,0,1,"span",[],null,null,null,null,null)),(n()(),l.Kb(-1,null,["Share"])),(n()(),l.kb(16777216,null,0,1,null,Sn)),l.rb(70,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.kb(16777216,null,0,1,null,In)),l.rb(72,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component,l=n(t,7,0,"url("+(null==e.post?null:e.post.user.thumb)+"), url(../../../assets/images/user.svg)");n(t,6,0,l),n(t,10,0,null==e.post?null:null==e.post.user?null:e.post.user.account_type),n(t,18,0,null==e.post?null:null==e.post.user?null:e.post.user.username),n(t,20,0,null==e.post?null:null==e.post.user?null:e.post.user.headline),n(t,31,0,null==e.post?null:e.post.image_url_original),n(t,33,0,null==e.post?null:e.post.pdf_url);var u=n(t,46,0,e.liked?"var(--primary-color)":"inherit");n(t,45,0,u),n(t,48,0),n(t,50,0),n(t,56,0),n(t,58,0),n(t,65,0),n(t,70,0,e.showComments&&e.isLoggedIn),n(t,72,0,e.showComments)},function(n,t){var e=t.component;n(t,2,0,l.ub(1,"",e.profileUrl,"")),n(t,14,0,null==e.post?null:e.post.user.name);var u=l.Lb(t,21,0,n(t,23,0,l.Cb(t.parent,0),l.Lb(t,21,0,n(t,22,0,l.Cb(t.parent,1),null==e.post?null:e.post.timestamp)),"LL"));n(t,21,0,u);var o=l.Lb(t,26,0,n(t,29,0,l.Cb(t.parent,2),e.post.text,n(t,28,0,n(t,27,0,50,"end"))));n(t,26,0,o),n(t,37,0,(null==e.post?null:e.post.count_views)||0),n(t,39,0,e.count_likes),n(t,41,0,(null==e.post?null:e.post.count_comments)||0),n(t,42,0,"end"===l.Cb(t,43).align),n(t,44,0,l.Cb(t,47).disabled||null,"NoopAnimations"===l.Cb(t,47)._animationMode),n(t,49,0,l.Cb(t,50).inline,"primary"!==l.Cb(t,50).color&&"accent"!==l.Cb(t,50).color&&"warn"!==l.Cb(t,50).color),n(t,54,0,l.Cb(t,55).disabled||null,"NoopAnimations"===l.Cb(t,55)._animationMode),n(t,57,0,l.Cb(t,58).inline,"primary"!==l.Cb(t,58).color&&"accent"!==l.Cb(t,58).color&&"warn"!==l.Cb(t,58).color),n(t,62,0,l.Cb(t,63).disabled||null,"NoopAnimations"===l.Cb(t,63)._animationMode),n(t,64,0,l.Cb(t,65).inline,"primary"!==l.Cb(t,65).color&&"accent"!==l.Cb(t,65).color&&"warn"!==l.Cb(t,65).color)})}function jn(n){return l.Mb(0,[l.Eb(0,ln.a,[]),l.Eb(0,ln.b,[]),l.Eb(0,wn,[]),(n()(),l.kb(16777216,null,null,1,null,Tn)),l.rb(4,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,4,0,t.component.post)},null)}var qn=l.qb({encapsulation:0,styles:[["mat-form-field[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]{text-overflow:ellipsis}  mat-form-field#postlink .mat-form-field-infix{padding:.5em 0 1em!important}button#copy_btn[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff;width:100px}"]],data:{}});function zn(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,5,"button",[["mat-dialog-close",""],["mat-icon-button",""],["style","float: right; margin-top: -1.5em;\nmargin-right: -1.7em;"],["tabindex","-1"],["type","button"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0]],[[null,"click"]],function(n,t,e){var u=!0;return"click"===t&&(u=!1!==l.Cb(n,2).dialogRef.close(l.Cb(n,2).dialogResult)&&u),u},i.d,i.b)),l.rb(1,180224,null,0,r.b,[l.k,a.a,s.e,[2,c.a]],null,null),l.rb(2,606208,null,0,hn.g,[[2,hn.l],l.k,hn.e],{dialogResult:[0,"dialogResult"]},null),(n()(),l.sb(3,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,d.b,d.a)),l.rb(4,9158656,null,0,b.b,[l.k,b.d,[8,null],[2,b.a]],null,null),(n()(),l.Kb(-1,0,["close"])),(n()(),l.sb(6,0,null,null,2,"h1",[["align","center"],["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l.rb(7,81920,null,0,hn.m,[[2,hn.l],l.k,hn.e],null,null),(n()(),l.Kb(-1,null,[" Share this post\n"])),(n()(),l.sb(9,0,[["container",1]],null,17,"div",[["align","center"],["class","mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l.rb(10,16384,null,0,hn.j,[],null,null),(n()(),l.sb(11,0,null,null,11,"mat-form-field",[["appearance","outline"],["class","mat-form-field"],["id","postlink"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,f.b,f.a)),l.rb(12,7520256,null,7,C.c,[l.k,l.h,[2,v.f],[2,x.b],[2,C.a],a.a,l.B,[2,c.a]],{appearance:[0,"appearance"]},null),l.Ib(335544320,1,{_control:0}),l.Ib(335544320,2,{_placeholderChild:0}),l.Ib(335544320,3,{_labelChild:0}),l.Ib(603979776,4,{_errorChildren:1}),l.Ib(603979776,5,{_hintChildren:1}),l.Ib(603979776,6,{_prefixChildren:1}),l.Ib(603979776,7,{_suffixChildren:1}),(n()(),l.sb(20,0,[["inputTarget",1]],1,2,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["readonly",""],["tabindex","-1"],["type","text"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"blur"],[null,"focus"],[null,"input"]],function(n,t,e){var u=!0;return"blur"===t&&(u=!1!==l.Cb(n,21)._focusChanged(!1)&&u),"focus"===t&&(u=!1!==l.Cb(n,21)._focusChanged(!0)&&u),"input"===t&&(u=!1!==l.Cb(n,21)._onInput()&&u),u},null,null)),l.rb(21,999424,null,0,y.a,[l.k,a.a,[8,null],[2,g.o],[2,g.g],v.b,[8,null],A.a,l.B],{type:[0,"type"],value:[1,"value"],readonly:[2,"readonly"]},null),l.Hb(2048,[[1,4]],C.d,null,[y.a]),(n()(),l.sb(23,0,null,null,3,"button",[["id","copy_btn"],["mat-button",""],["tabindex","-1"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"cbOnSuccess"],[null,"click"]],function(n,t,e){var u=!0,o=n.component;return"click"===t&&(u=!1!==l.Cb(n,25).onClick(e.target)&&u),"cbOnSuccess"===t&&(u=0!=(o.isCopied=!0)&&u),u},i.d,i.b)),l.rb(24,180224,null,0,r.b,[l.k,a.a,s.e,[2,c.a]],null,null),l.rb(25,212992,null,0,Bn.a,[Bn.c],{targetElm:[0,"targetElm"],container:[1,"container"]},{cbOnSuccess:"cbOnSuccess"}),(n()(),l.Kb(26,0,[" "," "]))],function(n,t){var e=t.component;n(t,2,0,""),n(t,4,0),n(t,7,0),n(t,12,0,"outline"),n(t,21,0,"text",l.ub(1,"https://kriger.in/posts/",e.data.key,""),""),n(t,25,0,l.Cb(t,20),l.Cb(t,9))},function(n,t){var e=t.component;n(t,0,0,l.Cb(t,1).disabled||null,"NoopAnimations"===l.Cb(t,1)._animationMode,l.Cb(t,2).ariaLabel),n(t,3,0,l.Cb(t,4).inline,"primary"!==l.Cb(t,4).color&&"accent"!==l.Cb(t,4).color&&"warn"!==l.Cb(t,4).color),n(t,6,0,l.Cb(t,7).id),n(t,11,1,["standard"==l.Cb(t,12).appearance,"fill"==l.Cb(t,12).appearance,"outline"==l.Cb(t,12).appearance,"legacy"==l.Cb(t,12).appearance,l.Cb(t,12)._control.errorState,l.Cb(t,12)._canLabelFloat,l.Cb(t,12)._shouldLabelFloat(),l.Cb(t,12)._hasFloatingLabel(),l.Cb(t,12)._hideControlPlaceholder(),l.Cb(t,12)._control.disabled,l.Cb(t,12)._control.autofilled,l.Cb(t,12)._control.focused,"accent"==l.Cb(t,12).color,"warn"==l.Cb(t,12).color,l.Cb(t,12)._shouldForward("untouched"),l.Cb(t,12)._shouldForward("touched"),l.Cb(t,12)._shouldForward("pristine"),l.Cb(t,12)._shouldForward("dirty"),l.Cb(t,12)._shouldForward("valid"),l.Cb(t,12)._shouldForward("invalid"),l.Cb(t,12)._shouldForward("pending"),!l.Cb(t,12)._animationsEnabled]),n(t,20,0,l.Cb(t,21)._isServer,l.Cb(t,21).id,l.Cb(t,21).placeholder,l.Cb(t,21).disabled,l.Cb(t,21).required,l.Cb(t,21).readonly&&!l.Cb(t,21)._isNativeSelect||null,l.Cb(t,21)._ariaDescribedby||null,l.Cb(t,21).errorState,l.Cb(t,21).required.toString()),n(t,23,0,l.Cb(t,24).disabled||null,"NoopAnimations"===l.Cb(t,24)._animationMode),n(t,26,0,e.isCopied?"Copied":"Copy Link")})}function Rn(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,1,"app-post-share-dialog",[],null,null,null,zn,qn)),l.rb(1,49152,null,0,Fn,[hn.l,hn.a],null,null)],null,null)}var Nn=l.ob("app-post-share-dialog",Fn,Rn,{},{},[]),Ln=e("NvT6"),Un=e("Blfk"),Hn=e("dU8u"),Kn=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),Wn=l.qb({encapsulation:0,styles:[[".ad__container[_ngcontent-%COMP%]{width:16vw;border:1px solid rgba(0,0,0,.5)}.ad__container[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px;max-height:400px;width:100%;height:100%;-o-object-fit:contain;object-fit:contain}"]],data:{}});function $n(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,3,"div",[["class","ad__container"]],null,null,null,null,null)),(n()(),l.sb(1,0,null,null,2,"a",[["rel","noopener"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(n()(),l.sb(2,0,null,null,1,"figure",[],null,null,null,null,null)),(n()(),l.sb(3,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,function(n,t){var e=t.component;n(t,1,0,e.adLink),n(t,3,0,e.imgSrc)})}var Vn=e("otiW"),Gn=e("e5Zd"),Zn=e("F/XL"),Xn=e("xMyE"),Yn=e("9Z1F"),Jn=e("qIOU"),Qn=function(){function n(n,t,e,l,u){this.authService=n,this.profileService=t,this.postService=e,this.renderer=l,this.router=u,this.postSubject=new pn.a([]),this.post$=this.postSubject.asObservable(),this.loading=new pn.a(!0),this.loading$=this.loading.asObservable(),this.error=!1,this.infiniteDisable=!0,this.scrollCount=0,this.lastPostValue=0,this.isEmpty=!1,this.isComplete=!1,this.renderer.addClass(document.body,"body-bg")}return n.prototype.updateState=function(n){this.loading.next(!1),this.lastPostValue=n},n.prototype.nextBatch=function(){var n=this;this.scrollCount++,this.scrollCount>2?this.infiniteDisable=!0:(console.log("next batch"),this.loading.next(!0),this.postService.getPosts({mode:"scroll",user_id:this.user_id,post_id:this.lastPostValue.toString()}).pipe(Object(Xn.a)(function(t){console.log({data:t});var e=t||[],l=n.postSubject.getValue();n.postSubject.next(l.concat(e));var u=(e[e.length-1]||{}).value,o=void 0===u?0:u;console.log({value:o}),n.updateState(o)}),Object(dn.a)(1),Object(Yn.a)(function(t){return n.setErrorStatus(t,"Something went wrong!"),n.postSubject.next([]),Object(Zn.a)({posts:[]})})).subscribe())},n.prototype.init=function(){return w.__awaiter(this,void 0,void 0,function(){var n,t=this;return w.__generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.profileService.getUser()];case 1:return e.sent().pipe(Object(Xn.a)(function(n){t.user_id=n._id}),Object(_.a)(function(n){return t.postService.getPosts({user_id:n._id})}),Object(Xn.a)(function(n){console.log({data:n});var e=n||[];t.postSubject.next(e);var l=e[e.length-1]||{};console.log({lastPost:l});var u=l.value,o=void 0===u?0:u;console.log({value:o}),t.updateState(o),0==e.length?t.setEmptyState():e.length<10||10==e.length&&t.setContinueState()}),Object(dn.a)(1),Object(Yn.a)(function(n){return t.setErrorStatus(n,"Something went wrong!"),t.postSubject.next([]),Object(Zn.a)({notifications:[]})})).subscribe(),[3,3];case 2:return n=e.sent(),console.log(n),[3,3];case 3:return[2]}})})},n.prototype.resetInfinite=function(){this.infiniteDisable=!1,this.scrollCount=0,this.nextBatch()},n.prototype.setEmptyState=function(){this.isEmpty=!0,this.infiniteDisable=!0},n.prototype.setCompleteState=function(){this.infiniteDisable=!0,this.isComplete=!0},n.prototype.setContinueState=function(){this.infiniteDisable=!1},n.prototype.setErrorStatus=function(n,t){console.log({err:n}),this.loading.next(!1),this.error=!0,console.log({err:n}),this.errorMessage=t},n.prototype.ngOnInit=function(){this.init()},n.prototype.ngOnDestroy=function(){this.renderer.removeClass(document.body,"body-bg")},n}(),nt=l.qb({encapsulation:0,styles:[[".post-list__container[_ngcontent-%COMP%]{min-height:calc(100vh - 60px);width:100%;display:grid;grid-template-columns:550px;place-content:center;place-items:center;grid-template-rows:auto;grid-auto-flow:dense;padding-top:40px}.ad[_ngcontent-%COMP%]{margin:0 auto;position:fixed;top:100px}.ad.right[_ngcontent-%COMP%]{right:0;margin-right:1em}.ad.left[_ngcontent-%COMP%]{left:0;margin-left:1em}.post-list__container[_ngcontent-%COMP%]   app-post[_ngcontent-%COMP%]{width:550px;overflow-wrap:break-word;justify-self:center}.load__btn[_ngcontent-%COMP%]{justify-self:center;display:flex}.load__btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:1em auto;background-color:#1a1a96;color:#fff}@media screen and (max-width:1050px){.post-list__container[_ngcontent-%COMP%]{grid-template-columns:400px}.post-list__container[_ngcontent-%COMP%]   app-post[_ngcontent-%COMP%]{width:400px}}@media screen and (max-width:700px){.post-list__container[_ngcontent-%COMP%]{grid-template-columns:300px}.post-list__container[_ngcontent-%COMP%]   app-post[_ngcontent-%COMP%]{width:300px}}@media screen and (max-width:550px){.post-list__container[_ngcontent-%COMP%]{grid-template-columns:90vw}.post-list__container[_ngcontent-%COMP%]   app-post[_ngcontent-%COMP%]{width:90vw}.ad[_ngcontent-%COMP%]{display:none}}"]],data:{}});function tt(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,1,"app-create-post",[],null,null,null,$,S)),l.rb(1,114688,null,0,B,[g.e,D.a,E.a,M.o,k.a,P.d,O.a],null,null)],function(n,t){n(t,1,0)},null)}function et(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,0,"hr",[["style","width: 100%; margin-bottom: 1em;"]],null,null,null,null,null))],null,null)}function lt(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,1,"app-post",[],null,null,null,jn,Dn)),l.rb(1,114688,null,0,_n,[hn.e,E.a,D.a],{post:[0,"post"]},null)],function(n,t){n(t,1,0,t.context.$implicit)},null)}function ut(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["diameter","50"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,Ln.b,Ln.a)),l.rb(1,49152,null,0,Un.d,[l.k,a.a,[2,p.d],[2,c.a],Un.a],{diameter:[0,"diameter"]},null)],function(n,t){n(t,1,0,"50")},function(n,t){n(t,0,0,l.Cb(t,1)._noopAnimations,l.Cb(t,1).diameter,l.Cb(t,1).diameter)})}function ot(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,2,"button",[["mat-stroked-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.resetInfinite()&&l),l},i.d,i.b)),l.rb(1,180224,null,0,r.b,[l.k,a.a,s.e,[2,c.a]],null,null),(n()(),l.Kb(-1,0,[" Load More Posts "]))],null,function(n,t){n(t,0,0,l.Cb(t,1).disabled||null,"NoopAnimations"===l.Cb(t,1)._animationMode)})}function it(n){return l.Mb(0,[l.Ib(402653184,1,{laodbtn:0}),(n()(),l.sb(1,0,null,null,13,"div",[["class","post-list__container"],["infinite-scroll",""]],null,[[null,"scrolled"]],function(n,t,e){var l=!0;return"scrolled"===t&&(l=!1!==n.component.nextBatch()&&l),l},null,null)),l.rb(2,4866048,null,0,Hn.a,[l.k,l.B],{infiniteScrollDistance:[0,"infiniteScrollDistance"],infiniteScrollThrottle:[1,"infiniteScrollThrottle"],infiniteScrollDisabled:[2,"infiniteScrollDisabled"]},{scrolled:"scrolled"}),(n()(),l.kb(16777216,null,null,2,null,tt)),l.rb(4,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null),l.Eb(131072,p.b,[l.h]),(n()(),l.kb(16777216,null,null,2,null,et)),l.rb(7,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null),l.Eb(131072,p.b,[l.h]),(n()(),l.kb(16777216,null,null,2,null,lt)),l.rb(10,278528,null,0,p.m,[l.S,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),l.Eb(131072,p.b,[l.h]),(n()(),l.kb(16777216,null,null,2,null,ut)),l.rb(13,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null),l.Eb(131072,p.b,[l.h]),(n()(),l.sb(15,0,null,null,2,"div",[["class","load__btn"]],null,null,null,null,null)),(n()(),l.kb(16777216,null,null,1,null,ot)),l.rb(17,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null),(n()(),l.sb(18,0,null,null,1,"app-adbanner",[["adLink","https://hbr.org/subscribe"],["class","ad left"],["imgSrc","../../../../assets/images/ad/AD1.png"]],null,null,null,$n,Wn)),l.rb(19,114688,null,0,Kn,[],{imgSrc:[0,"imgSrc"],adLink:[1,"adLink"]},null),(n()(),l.sb(20,0,null,null,1,"app-adbanner",[["adLink","https://nest.lpu.in/main.aspx"],["class","ad right"],["imgSrc","../../../../assets/images/ad/AD2.png"]],null,null,null,$n,Wn)),l.rb(21,114688,null,0,Kn,[],{imgSrc:[0,"imgSrc"],adLink:[1,"adLink"]},null),(n()(),l.sb(22,0,null,null,1,"app-scroll-top",[],null,[["window","scroll"]],function(n,t,e){var u=!0;return"window:scroll"===t&&(u=!1!==l.Cb(n,23).onWindowScroll()&&u),u},Vn.b,Vn.a)),l.rb(23,114688,null,0,Gn.a,[P.c],null,null)],function(n,t){var e=t.component;n(t,2,0,1,2e3,e.infiniteDisable),n(t,4,0,!l.Lb(t,4,0,l.Cb(t,5).transform(e.loading$))),n(t,7,0,!l.Lb(t,7,0,l.Cb(t,8).transform(e.loading$))),n(t,10,0,l.Lb(t,10,0,l.Cb(t,11).transform(e.post$))),n(t,13,0,l.Lb(t,13,0,l.Cb(t,14).transform(e.loading$))),n(t,17,0,e.infiniteDisable&&!e.isEmpty&&!e.isComplete),n(t,19,0,"../../../../assets/images/ad/AD1.png","https://hbr.org/subscribe"),n(t,21,0,"../../../../assets/images/ad/AD2.png","https://nest.lpu.in/main.aspx"),n(t,23,0)},null)}function rt(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,1,"app-post-list",[],null,null,null,it,nt)),l.rb(1,245760,null,0,Qn,[Jn.a,E.a,D.a,l.G,M.o],null,null)],function(n,t){n(t,1,0)},null)}var at=l.ob("app-post-list",Qn,rt,{},{},[]),st=function(){function n(n,t){this.router=n,this.route=t}return n.prototype.ngOnInit=function(){this.data=this.route.snapshot.data.data,this.data.extended=!0},n}(),ct=l.qb({encapsulation:0,styles:[[".post-detail__container[_ngcontent-%COMP%]{width:100%;height:85%;display:grid;grid-template-columns:550px;grid-template-rows:auto;grid-auto-flow:dense;margin-top:60px;justify-content:center}.post-detail__container[_ngcontent-%COMP%]   app-post[_ngcontent-%COMP%]{width:550px;overflow-wrap:break-word;justify-self:center}@media screen and (max-width:1050px){.post-detail__container[_ngcontent-%COMP%]{grid-template-columns:400px}.post-detail__container[_ngcontent-%COMP%]   app-post[_ngcontent-%COMP%]{width:400px}}@media screen and (max-width:700px){.post-detail__container[_ngcontent-%COMP%]{grid-template-columns:300px}.post-detail__container[_ngcontent-%COMP%]   app-post[_ngcontent-%COMP%]{width:300px}}@media screen and (max-width:550px){.post-detail__container[_ngcontent-%COMP%]{grid-template-columns:90vw}.post-detail__container[_ngcontent-%COMP%]   app-post[_ngcontent-%COMP%]{width:90vw}}"]],data:{}});function pt(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,1,"app-post",[],null,null,null,jn,Dn)),l.rb(1,114688,null,0,_n,[hn.e,E.a,D.a],{post:[0,"post"]},null)],function(n,t){n(t,1,0,t.component.data)},null)}function dt(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,2,"div",[["class","post-detail__container"]],null,null,null,null,null)),(n()(),l.kb(16777216,null,null,1,null,pt)),l.rb(2,16384,null,0,p.n,[l.S,l.O],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,2,0,t.component.data)},null)}function bt(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,1,"app-post-detail",[],null,null,null,dt,ct)),l.rb(1,114688,null,0,st,[M.o,M.a],null,null)],function(n,t){n(t,1,0)},null)}var mt=l.ob("app-post-detail",st,bt,{},{},[]),ht=e("t68o"),gt=e("29pW"),ft=e("eDkP"),Ct=e("M2Lx"),vt=function(){function n(n,t,e,l,u){this.postService=n,this.profileService=t,this.router=e,this.route=l,this.zone=u}return n.prototype.resolve=function(n){var t=this;return console.log(n.params.id,"resolver"),this.pathResolver(n.params.id).catch(function(n){console.log("resolve error",{err:n}),t.router.navigateByUrl("/404")})},n.prototype.pathResolver=function(n){return w.__awaiter(this,void 0,void 0,function(){var t,e;return w.__generator(this,function(l){switch(l.label){case 0:console.log({post_id:n}),t="null",l.label=1;case 1:return l.trys.push([1,4,,5]),[4,this.profileService.getUser()];case 2:return[4,l.sent().toPromise().then(function(n){return n._id})];case 3:return t=l.sent(),[3,5];case 4:return e=l.sent(),console.log(e),[3,5];case 5:return[2,this.postService.getExtendedPost({post_id:n,user_id:t}).toPromise().then(function(n){return console.log("pathResolver",{data:n}),n})]}})})},n}(),xt=e("oX4v"),At={authGuardPipe:function(){return Object(xt.c)(["login"])}},yt=vt,wt=function(){return function(){}}(),kt=e("kk+4"),_t=e("RxsP"),Ft=e("4c35"),Bt=e("qAlS"),Dt=e("/dO6"),Et=e("PCNd"),Mt=e("YSh2");e.d(t,"PostModuleNgFactory",function(){return Pt});var Pt=l.pb(u,[],function(n){return l.zb([l.Ab(512,l.j,l.fb,[[8,[o.a,at,mt,ht.a,gt.a,Nn]],[3,l.j],l.z]),l.Ab(4608,p.p,p.o,[l.w,[2,p.z]]),l.Ab(4608,F.l,F.r,[p.d,l.D,F.p]),l.Ab(4608,F.s,F.s,[F.l,F.q]),l.Ab(5120,F.a,function(n){return[n]},[F.s]),l.Ab(4608,F.o,F.o,[]),l.Ab(6144,F.m,null,[F.o]),l.Ab(4608,F.k,F.k,[F.m]),l.Ab(6144,F.b,null,[F.k]),l.Ab(4608,F.g,F.n,[F.b,l.s]),l.Ab(4608,F.c,F.c,[F.g]),l.Ab(4608,ft.a,ft.a,[ft.g,ft.c,l.j,ft.f,ft.d,l.s,l.B,p.d,x.b,[2,p.i]]),l.Ab(5120,ft.h,ft.i,[ft.a]),l.Ab(5120,hn.c,hn.d,[ft.a]),l.Ab(135680,hn.e,hn.e,[ft.a,l.s,[2,p.i],[2,hn.b],hn.c,[3,hn.e],ft.c]),l.Ab(4608,g.e,g.e,[]),l.Ab(4608,g.w,g.w,[]),l.Ab(4608,Ct.c,Ct.c,[]),l.Ab(4608,v.b,v.b,[]),l.Ab(4608,vt,vt,[D.a,E.a,M.o,M.a,l.B]),l.Ab(1073742336,p.c,p.c,[]),l.Ab(1073742336,M.s,M.s,[[2,M.y],[2,M.o]]),l.Ab(1073742336,wt,wt,[]),l.Ab(1073742336,x.a,x.a,[]),l.Ab(1073742336,v.j,v.j,[[2,v.c],[2,P.h]]),l.Ab(1073742336,V.g,V.g,[]),l.Ab(1073742336,ln.c,ln.c,[]),l.Ab(1073742336,kn,kn,[]),l.Ab(1073742336,F.e,F.e,[]),l.Ab(1073742336,F.d,F.d,[]),l.Ab(1073742336,kt.c,kt.c,[kt.b]),l.Ab(1073742336,a.b,a.b,[]),l.Ab(1073742336,v.s,v.s,[]),l.Ab(1073742336,r.c,r.c,[]),l.Ab(1073742336,Un.c,Un.c,[]),l.Ab(1073742336,_t.a,_t.a,[]),l.Ab(1073742336,b.c,b.c,[]),l.Ab(1073742336,Ft.g,Ft.g,[]),l.Ab(1073742336,Bt.c,Bt.c,[]),l.Ab(1073742336,ft.e,ft.e,[]),l.Ab(1073742336,hn.k,hn.k,[]),l.Ab(1073742336,h.c,h.c,[]),l.Ab(1073742336,g.u,g.u,[]),l.Ab(1073742336,g.r,g.r,[]),l.Ab(1073742336,Ct.d,Ct.d,[]),l.Ab(1073742336,C.e,C.e,[]),l.Ab(1073742336,A.c,A.c,[]),l.Ab(1073742336,y.b,y.b,[]),l.Ab(1073742336,Hn.b,Hn.b,[]),l.Ab(1073742336,Bn.b,Bn.b,[]),l.Ab(1073742336,Dt.d,Dt.d,[]),l.Ab(1073742336,Et.a,Et.a,[]),l.Ab(1073742336,u,u,[]),l.Ab(1024,M.m,function(){return[[{path:"",component:Qn,canActivate:[xt.a],data:At},{path:":id",component:st,resolve:{data:yt}}]]},[]),l.Ab(256,F.p,"XSRF-TOKEN",[]),l.Ab(256,F.q,"X-XSRF-TOKEN",[]),l.Ab(256,Dt.a,{separatorKeyCodes:[Mt.f]},[])])})},"a8W+":function(n,t,e){n.exports=function(){"use strict";function n(n,t){if(Array.prototype.indexOf)return n.indexOf(t);for(var e=0,l=n.length;e<l;e++)if(n[e]===t)return e;return-1}function t(n,t){for(var e=n.length-1;0<=e;e--)!0===t(n[e])&&n.splice(e,1)}function e(n){throw new Error("Unhandled case for value: '"+n+"'")}var l=function(){function t(n){void 0===n&&(n={}),this.tagName="",this.attrs={},this.innerHTML="",this.whitespaceRegex=/\s+/,this.tagName=n.tagName||"",this.attrs=n.attrs||{},this.innerHTML=n.innerHtml||n.innerHTML||""}return t.prototype.setTagName=function(n){return this.tagName=n,this},t.prototype.getTagName=function(){return this.tagName||""},t.prototype.setAttr=function(n,t){return this.getAttrs()[n]=t,this},t.prototype.getAttr=function(n){return this.getAttrs()[n]},t.prototype.setAttrs=function(n){return Object.assign(this.getAttrs(),n),this},t.prototype.getAttrs=function(){return this.attrs||(this.attrs={})},t.prototype.setClass=function(n){return this.setAttr("class",n)},t.prototype.addClass=function(t){for(var e,l=this.getClass(),u=this.whitespaceRegex,o=l?l.split(u):[],i=t.split(u);e=i.shift();)-1===n(o,e)&&o.push(e);return this.getAttrs().class=o.join(" "),this},t.prototype.removeClass=function(t){for(var e,l=this.getClass(),u=this.whitespaceRegex,o=l?l.split(u):[],i=t.split(u);o.length&&(e=i.shift());){var r=n(o,e);-1!==r&&o.splice(r,1)}return this.getAttrs().class=o.join(" "),this},t.prototype.getClass=function(){return this.getAttrs().class||""},t.prototype.hasClass=function(n){return-1!==(" "+this.getClass()+" ").indexOf(" "+n+" ")},t.prototype.setInnerHTML=function(n){return this.innerHTML=n,this},t.prototype.setInnerHtml=function(n){return this.setInnerHTML(n)},t.prototype.getInnerHTML=function(){return this.innerHTML||""},t.prototype.getInnerHtml=function(){return this.getInnerHTML()},t.prototype.toAnchorString=function(){var n=this.getTagName(),t=this.buildAttrsStr();return["<",n,t=t?" "+t:"",">",this.getInnerHtml(),"</",n,">"].join("")},t.prototype.buildAttrsStr=function(){if(!this.attrs)return"";var n=this.getAttrs(),t=[];for(var e in n)n.hasOwnProperty(e)&&t.push(e+'="'+n[e]+'"');return t.join(" ")},t}(),u=function(){function n(n){void 0===n&&(n={}),this.newWindow=!1,this.truncate={},this.className="",this.newWindow=n.newWindow||!1,this.truncate=n.truncate||{},this.className=n.className||""}return n.prototype.build=function(n){return new l({tagName:"a",attrs:this.createAttrs(n),innerHtml:this.processAnchorText(n.getAnchorText())})},n.prototype.createAttrs=function(n){var t={href:n.getAnchorHref()},e=this.createCssClass(n);return e&&(t.class=e),this.newWindow&&(t.target="_blank",t.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<n.getAnchorText().length&&(t.title=n.getAnchorHref()),t},n.prototype.createCssClass=function(n){var t=this.className;if(t){for(var e=[t],l=n.getCssClassSuffixes(),u=0,o=l.length;u<o;u++)e.push(t+"-"+l[u]);return e.join(" ")}return""},n.prototype.processAnchorText=function(n){return this.doTruncate(n)},n.prototype.doTruncate=function(n){var t=this.truncate;if(!t||!t.length)return n;var e,l,u,o,i=t.length,r=t.location;return"smart"===r?function(n,t,e){var l,u;l=null==e?(e="&hellip;",u=3,8):(u=e.length,e.length);var o=function(n){var t="";return n.scheme&&n.host&&(t+=n.scheme+"://"),n.host&&(t+=n.host),n.path&&(t+="/"+n.path),n.query&&(t+="?"+n.query),n.fragment&&(t+="#"+n.fragment),t},i=function(n,t){var l=t/2,u=Math.ceil(l),o=-1*Math.floor(l),i="";return o<0&&(i=n.substr(o)),n.substr(0,u)+e+i};if(n.length<=t)return n;var r,a,s,c=t-u,p=(r={},(s=(a=n).match(/^([a-z]+):\/\//i))&&(r.scheme=s[1],a=a.substr(s[0].length)),(s=a.match(/^(.*?)(?=(\?|#|\/|$))/i))&&(r.host=s[1],a=a.substr(s[0].length)),(s=a.match(/^\/(.*?)(?=(\?|#|$))/i))&&(r.path=s[1],a=a.substr(s[0].length)),(s=a.match(/^\?(.*?)(?=(#|$))/i))&&(r.query=s[1],a=a.substr(s[0].length)),(s=a.match(/^#(.*?)$/i))&&(r.fragment=s[1]),r);if(p.query){var d=p.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);d&&(p.query=p.query.substr(0,d[1].length),n=o(p))}if(n.length<=t)return n;if(p.host&&(p.host=p.host.replace(/^www\./,""),n=o(p)),n.length<=t)return n;var b="";if(p.host&&(b+=p.host),b.length>=c)return p.host.length==t?(p.host.substr(0,t-u)+e).substr(0,c+l):i(b,c).substr(0,c+l);var m="";if(p.path&&(m+="/"+p.path),p.query&&(m+="?"+p.query),m){if(c<=(b+m).length)return(b+m).length==t?(b+m).substr(0,t):(b+i(m,c-b.length)).substr(0,c+l);b+=m}if(p.fragment){var h="#"+p.fragment;if(c<=(b+h).length)return(b+h).length==t?(b+h).substr(0,t):(b+i(h,c-b.length)).substr(0,c+l);b+=h}if(p.scheme&&p.host){var g=p.scheme+"://";if((b+g).length<c)return(g+b).substr(0,t)}if(b.length<=t)return b;var f="";return 0<c&&(f=b.substr(-1*Math.floor(c/2))),(b.substr(0,Math.ceil(c/2))+e+f).substr(0,c+l)}(n,i):"middle"===r?function(n,t,e){if(n.length<=i)return n;var l,u=i-(null==e?(e="&hellip;",l=8,3):(l=e.length,e.length)),o="";return 0<u&&(o=n.substr(-1*Math.floor(u/2))),(n.substr(0,Math.ceil(u/2))+e+o).substr(0,u+l)}(n):(u=void 0,(e=n).length>(l=i)&&(o=null==u?(u="&hellip;",3):u.length,e=e.substring(0,l-o)+u),e)},n}(),o=function(){function n(n){this.__jsduckDummyDocProp=null,this.matchedText="",this.offset=0,this.tagBuilder=n.tagBuilder,this.matchedText=n.matchedText,this.offset=n.offset}return n.prototype.getMatchedText=function(){return this.matchedText},n.prototype.setOffset=function(n){this.offset=n},n.prototype.getOffset=function(){return this.offset},n.prototype.getCssClassSuffixes=function(){return[this.getType()]},n.prototype.buildTag=function(){return this.tagBuilder.build(this)},n}(),i=function(n,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])})(n,t)};function r(n,t){function e(){this.constructor=n}i(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var a=function(){return(a=Object.assign||function(n){for(var t,e=1,l=arguments.length;e<l;e++)for(var u in t=arguments[e])Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n}).apply(this,arguments)},s=function(n){function t(t){var e=n.call(this,t)||this;return e.email="",e.email=t.email,e}return r(t,n),t.prototype.getType=function(){return"email"},t.prototype.getEmail=function(){return this.email},t.prototype.getAnchorHref=function(){return"mailto:"+this.email},t.prototype.getAnchorText=function(){return this.email},t}(o),c=function(n){function t(t){var e=n.call(this,t)||this;return e.serviceName="",e.hashtag="",e.serviceName=t.serviceName,e.hashtag=t.hashtag,e}return r(t,n),t.prototype.getType=function(){return"hashtag"},t.prototype.getServiceName=function(){return this.serviceName},t.prototype.getHashtag=function(){return this.hashtag},t.prototype.getAnchorHref=function(){var n=this.serviceName,t=this.hashtag;switch(n){case"twitter":return"https://twitter.com/hashtag/"+t;case"facebook":return"https://www.facebook.com/hashtag/"+t;case"instagram":return"https://instagram.com/explore/tags/"+t;default:throw new Error("Unknown service name to point hashtag to: "+n)}},t.prototype.getAnchorText=function(){return"#"+this.hashtag},t}(o),p=function(n){function t(t){var e=n.call(this,t)||this;return e.serviceName="twitter",e.mention="",e.mention=t.mention,e.serviceName=t.serviceName,e}return r(t,n),t.prototype.getType=function(){return"mention"},t.prototype.getMention=function(){return this.mention},t.prototype.getServiceName=function(){return this.serviceName},t.prototype.getAnchorHref=function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;case"soundcloud":return"https://soundcloud.com/"+this.mention;default:throw new Error("Unknown service name to point mention to: "+this.serviceName)}},t.prototype.getAnchorText=function(){return"@"+this.mention},t.prototype.getCssClassSuffixes=function(){var t=n.prototype.getCssClassSuffixes.call(this),e=this.getServiceName();return e&&t.push(e),t},t}(o),d=function(n){function t(t){var e=n.call(this,t)||this;return e.number="",e.plusSign=!1,e.number=t.number,e.plusSign=t.plusSign,e}return r(t,n),t.prototype.getType=function(){return"phone"},t.prototype.getPhoneNumber=function(){return this.number},t.prototype.getNumber=function(){return this.getPhoneNumber()},t.prototype.getAnchorHref=function(){return"tel:"+(this.plusSign?"+":"")+this.number},t.prototype.getAnchorText=function(){return this.matchedText},t}(o),b=function(n){function t(t){var e=n.call(this,t)||this;return e.url="",e.urlMatchType="scheme",e.protocolUrlMatch=!1,e.protocolRelativeMatch=!1,e.stripPrefix={scheme:!0,www:!0},e.stripTrailingSlash=!0,e.decodePercentEncoding=!0,e.schemePrefixRegex=/^(https?:\/\/)?/i,e.wwwPrefixRegex=/^(https?:\/\/)?(www\.)?/i,e.protocolRelativeRegex=/^\/\//,e.protocolPrepended=!1,e.urlMatchType=t.urlMatchType,e.url=t.url,e.protocolUrlMatch=t.protocolUrlMatch,e.protocolRelativeMatch=t.protocolRelativeMatch,e.stripPrefix=t.stripPrefix,e.stripTrailingSlash=t.stripTrailingSlash,e.decodePercentEncoding=t.decodePercentEncoding,e}return r(t,n),t.prototype.getType=function(){return"url"},t.prototype.getUrlMatchType=function(){return this.urlMatchType},t.prototype.getUrl=function(){var n=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(n=this.url="http://"+n,this.protocolPrepended=!0),n},t.prototype.getAnchorHref=function(){return this.getUrl().replace(/&amp;/g,"&")},t.prototype.getAnchorText=function(){var n=this.getMatchedText();return this.protocolRelativeMatch&&(n=this.stripProtocolRelativePrefix(n)),this.stripPrefix.scheme&&(n=this.stripSchemePrefix(n)),this.stripPrefix.www&&(n=this.stripWwwPrefix(n)),this.stripTrailingSlash&&(n=this.removeTrailingSlash(n)),this.decodePercentEncoding&&(n=this.removePercentEncoding(n)),n},t.prototype.stripSchemePrefix=function(n){return n.replace(this.schemePrefixRegex,"")},t.prototype.stripWwwPrefix=function(n){return n.replace(this.wwwPrefixRegex,"$1")},t.prototype.stripProtocolRelativePrefix=function(n){return n.replace(this.protocolRelativeRegex,"")},t.prototype.removeTrailingSlash=function(n){return"/"===n.charAt(n.length-1)&&(n=n.slice(0,-1)),n},t.prototype.removePercentEncoding=function(n){var t=n.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;");try{return decodeURIComponent(t)}catch(n){return t}},t}(o),m=function(n){this.__jsduckDummyDocProp=null,this.tagBuilder=n.tagBuilder},h=/[A-Za-z]/,g=/[0-9]/,f=/\s/,C=/['"]/,v=/[\x00-\x1F\x7F]/,x=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,A=x+/\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F/.source,y=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/.source,w=A+y,k=A+y,_="(?:["+y+"]{1,3}\\.){3}["+y+"]{1,3}",F="["+k+"](?:["+k+"\\-]{0,61}["+k+"])?",B=function(n){return"(?=("+F+"))\\"+n},D=function(n){return"(?:"+B(n)+"(?:\\."+B(n+1)+"){0,126}|"+_+")"},E=new RegExp("["+k+"]"),M=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.localPartCharRegex=new RegExp("["+k+"!#$%&'*+/=?^_`{|}~-]"),t}return r(t,n),t.prototype.parseMatches=function(n){for(var t=this.tagBuilder,l=this.localPartCharRegex,u=[],o=n.length,i=new P,r=0,c=0,p=i;r<o;){var d=n.charAt(r);switch(c){case 0:b(d);break;case 1:m(d);break;case 2:h(d);break;case 3:g(d);break;case 4:f(d);break;case 5:C(d);break;case 6:v(d);break;default:e(c)}r++}return A(),u;function b(n){l.test(n)&&(c=1,p=new P({idx:r}))}function m(n){"."===n?c=2:"@"===n?c=3:l.test(n)||x()}function h(n){"."===n?x():"@"===n?x():l.test(n)?c=1:x()}function g(n){E.test(n)?c=4:x()}function f(n){"."===n?c=6:"-"===n?c=5:E.test(n)||A()}function C(n){"-"===n||"."===n?A():E.test(n)?c=4:A()}function v(n){"."===n||"-"===n?A():E.test(n)?(c=4,p=new P(a({},p,{hasDomainDot:!0}))):A()}function x(){c=0,p=i}function A(){if(p.hasDomainDot){var e=n.slice(p.idx,r);/[-.]$/.test(e)&&(e=e.slice(0,-1)),u.push(new s({tagBuilder:t,matchedText:e,offset:p.idx,email:e}))}x()}},t}(m),P=function(n){void 0===n&&(n={}),this.idx=void 0!==n.idx?n.idx:-1,this.hasDomainDot=!!n.hasDomainDot},O=/(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|verm\xf6gensberatung|xn--3oq18vl8pn36a|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|verm\xf6gensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbaakc7dvf|xn--mgbc0a9azcg|xn--nqv7fs00ema|afamilycompany|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--h2breg3eve|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|xn--rvc1e0am3e|international|lifeinsurance|spreadbetting|travelchannel|wolterskluwer|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--h2brj9c8c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|scholarships|versicherung|xn--3e0b707e|xn--45br5cyl|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbgu82a|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|rightathome|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--3bst00m|xn--3ds443g|xn--3hcrj9c|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--mgbbh1a|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--otu796d|xn--pbt977c|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b|\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd|accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nationwide|newholland|nextdirect|onyourside|properties|protection|prudential|realestate|republican|restaurant|schaeffler|swiftcover|tatamotors|technology|telefonica|university|vistaprint|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|fujixerox|furniture|goldpoint|hisamitsu|homedepot|homegoods|homesense|honeywell|institute|insurance|kuokgroup|ladbrokes|lancaster|landrover|lifestyle|marketing|marshalls|melbourne|microsoft|panasonic|passagens|pramerica|richardli|scjohnson|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--ngbrx|xn--nqv7f|xn--p1acf|xn--tckwe|xn--vhquv|yodobashi|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|budapest|builders|business|capetown|catering|catholic|chrysler|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|esurance|etisalat|everbank|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|merckmsd|mortgage|movistar|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|symantec|training|uconnect|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama|\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|cartier|channel|charity|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|grocery|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|iselect|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lancome|lanxess|lasalle|latrobe|leclerc|liaison|limited|lincoln|markets|metlife|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|shriram|singles|staples|starhub|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|\u043a\u0430\u0442\u043e\u043b\u0438\u043a|\u0627\u062a\u0635\u0627\u0644\u0627\u062a|\u0627\u0644\u062c\u0632\u0627\u0626\u0631|\u0627\u0644\u0639\u0644\u064a\u0627\u0646|\u067e\u0627\u06a9\u0633\u062a\u0627\u0646|\u0643\u0627\u062b\u0648\u0644\u064a\u0643|\u0645\u0648\u0628\u0627\u064a\u0644\u064a|\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe|abarth|abbott|abbvie|active|africa|agency|airbus|airtel|alipay|alsace|alstom|anquan|aramco|author|bayern|beauty|berlin|bharti|blanco|bostik|boston|broker|camera|career|caseih|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hotels|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|mobily|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|piaget|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|search|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|warman|webcam|xihuan|yachts|yandex|zappos|\u043c\u043e\u0441\u043a\u0432\u0430|\u043e\u043d\u043b\u0430\u0439\u043d|\u0627\u0628\u0648\u0638\u0628\u064a|\u0627\u0631\u0627\u0645\u0643\u0648|\u0627\u0644\u0627\u0631\u062f\u0646|\u0627\u0644\u0645\u063a\u0631\u0628|\u0627\u0645\u0627\u0631\u0627\u062a|\u0641\u0644\u0633\u0637\u064a\u0646|\u0645\u0644\u064a\u0633\u064a\u0627|\u092d\u093e\u0930\u0924\u092e\u094d|\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8|\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|bosch|build|canon|cards|chase|cheap|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|dodge|drive|dubai|earth|edeka|email|epost|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glade|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|intel|irish|iveco|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|lixil|loans|locus|lotte|lotto|lupin|macys|mango|media|miami|money|mopar|movie|nadex|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|rugby|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|sport|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|zippo|\u0627\u06cc\u0631\u0627\u0646|\u0628\u0627\u0632\u0627\u0631|\u0628\u06be\u0627\u0631\u062a|\u0633\u0648\u062f\u0627\u0646|\u0633\u0648\u0631\u064a\u0629|\u0647\u0645\u0631\u0627\u0647|\u092d\u093e\u0930\u094b\u0924|\u0938\u0902\u0917\u0920\u0928|\u09ac\u09be\u0982\u09b2\u09be|\u0c2d\u0c3e\u0c30\u0c24\u0c4d|\u0d2d\u0d3e\u0d30\u0d24\u0d02|\u5609\u91cc\u5927\u9152\u5e97|aarp|able|adac|aero|aigo|akdn|ally|amex|arab|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|doha|duck|duns|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|raid|read|reit|rent|rest|rich|rmit|room|rsvp|ruhr|safe|sale|sarl|save|saxo|scor|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|\u0434\u0435\u0442\u0438|\u0441\u0430\u0439\u0442|\u0628\u0627\u0631\u062a|\u0628\u064a\u062a\u0643|\u0680\u0627\u0631\u062a|\u062a\u0648\u0646\u0633|\u0634\u0628\u0643\u0629|\u0639\u0631\u0627\u0642|\u0639\u0645\u0627\u0646|\u0645\u0648\u0642\u0639|\u092d\u093e\u0930\u0924|\u09ad\u09be\u09b0\u09a4|\u09ad\u09be\u09f0\u09a4|\u0a2d\u0a3e\u0a30\u0a24|\u0aad\u0abe\u0ab0\u0aa4|\u0b2d\u0b3e\u0b30\u0b24|\u0cad\u0cbe\u0cb0\u0ca4|\u0dbd\u0d82\u0d9a\u0dcf|\u30b0\u30fc\u30b0\u30eb|\u30af\u30e9\u30a6\u30c9|\u30dd\u30a4\u30f3\u30c8|\u5927\u4f17\u6c7d\u8f66|\u7ec4\u7ec7\u673a\u6784|\u96fb\u8a0a\u76c8\u79d1|\u9999\u683c\u91cc\u62c9|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bnl|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceb|ceo|cfa|cfd|com|crs|csc|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|ibm|ice|icu|ifm|inc|ing|ink|int|ist|itv|jcb|jcp|jio|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|llc|lol|lpl|ltd|man|map|mba|med|men|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|off|one|ong|onl|ooo|org|ott|ovh|pay|pet|phd|pid|pin|pnc|pro|pru|pub|pwc|qvc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|srl|srt|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|\u0431\u0435\u043b|\u043a\u043e\u043c|\u049b\u0430\u0437|\u043c\u043a\u0434|\u043c\u043e\u043d|\u043e\u0440\u0433|\u0440\u0443\u0441|\u0441\u0440\u0431|\u0443\u043a\u0440|\u0570\u0561\u0575|\u05e7\u05d5\u05dd|\u0639\u0631\u0628|\u0642\u0637\u0631|\u0643\u0648\u0645|\u0645\u0635\u0631|\u0915\u0949\u092e|\u0928\u0947\u091f|\u0e04\u0e2d\u0e21|\u0e44\u0e17\u0e22|\u30b9\u30c8\u30a2|\u30bb\u30fc\u30eb|\u307f\u3093\u306a|\u4e2d\u6587\u7f51|\u5929\u4e3b\u6559|\u6211\u7231\u4f60|\u65b0\u52a0\u5761|\u6de1\u9a6c\u9521|\u8bfa\u57fa\u4e9a|\u98de\u5229\u6d66|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|\u03b5\u03bb|\u0431\u0433|\u0435\u044e|\u0440\u0444|\u10d2\u10d4|\ub2f7\ub137|\ub2f7\ucef4|\uc0bc\uc131|\ud55c\uad6d|\u30b3\u30e0|\u4e16\u754c|\u4e2d\u4fe1|\u4e2d\u56fd|\u4e2d\u570b|\u4f01\u4e1a|\u4f5b\u5c71|\u4fe1\u606f|\u5065\u5eb7|\u516b\u5366|\u516c\u53f8|\u516c\u76ca|\u53f0\u6e7e|\u53f0\u7063|\u5546\u57ce|\u5546\u5e97|\u5546\u6807|\u5609\u91cc|\u5728\u7ebf|\u5927\u62ff|\u5a31\u4e50|\u5bb6\u96fb|\u5de5\u884c|\u5e7f\u4e1c|\u5fae\u535a|\u6148\u5584|\u624b\u673a|\u624b\u8868|\u62db\u8058|\u653f\u52a1|\u653f\u5e9c|\u65b0\u95fb|\u65f6\u5c1a|\u66f8\u7c4d|\u673a\u6784|\u6e38\u620f|\u6fb3\u9580|\u70b9\u770b|\u73e0\u5b9d|\u79fb\u52a8|\u7f51\u5740|\u7f51\u5e97|\u7f51\u7ad9|\u7f51\u7edc|\u8054\u901a|\u8c37\u6b4c|\u8d2d\u7269|\u901a\u8ca9|\u96c6\u56e2|\u98df\u54c1|\u9910\u5385|\u9999\u6e2f)/,S=function(){function n(){}return n.isValid=function(n,t){return!(t&&!this.isValidUriScheme(t)||this.urlMatchDoesNotHaveProtocolOrDot(n,t)||this.urlMatchDoesNotHaveAtLeastOneWordChar(n,t)&&!this.isValidIpAddress(n)||this.containsMultipleDots(n))},n.isValidIpAddress=function(n){var t=new RegExp(this.hasFullProtocolRegex.source+this.ipRegex.source);return null!==n.match(t)},n.containsMultipleDots=function(n){var t=n;return this.hasFullProtocolRegex.test(n)&&(t=n.split("://")[1]),-1<t.split("/")[0].indexOf("..")},n.isValidUriScheme=function(n){var t=n.match(this.uriSchemeRegex),e=t&&t[0].toLowerCase();return"javascript:"!==e&&"vbscript:"!==e},n.urlMatchDoesNotHaveProtocolOrDot=function(n,t){return!(!n||t&&this.hasFullProtocolRegex.test(t)||-1!==n.indexOf("."))},n.urlMatchDoesNotHaveAtLeastOneWordChar=function(n,t){return!(!n||!t||this.hasWordCharAfterProtocolRegex.test(n))},n.hasFullProtocolRegex=/^[A-Za-z][-.+A-Za-z0-9]*:\/\//,n.uriSchemeRegex=/^[A-Za-z][-.+A-Za-z0-9]*:/,n.hasWordCharAfterProtocolRegex=new RegExp(":[^\\s]*?["+x+"]"),n.ipRegex=/[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?(:[0-9]*)?\/?$/,n}(),I=function(n){function t(t){var e,l=n.call(this,t)||this;return l.stripPrefix={scheme:!0,www:!0},l.stripTrailingSlash=!0,l.decodePercentEncoding=!0,l.matcherRegex=(e=new RegExp("[/?#](?:["+k+"\\-+&@#/%=~_()|'$*\\[\\]?!:,.;\u2713]*["+k+"\\-+&@#/%=~_()|'$*\\[\\]\u2713])?"),new RegExp(["(?:","(",/(?:[A-Za-z][-.+A-Za-z0-9]{0,63}:(?![A-Za-z][-.+A-Za-z0-9]{0,63}:\/\/)(?!\d+\/?)(?:\/\/)?)/.source,D(2),")","|","(","(//)?",/(?:www\.)/.source,D(6),")","|","(","(//)?",D(10)+"\\.",O.source,"(?![-"+w+"])",")",")","(?::[0-9]+)?","(?:"+e.source+")?"].join(""),"gi")),l.wordCharRegExp=new RegExp("["+k+"]"),l.stripPrefix=t.stripPrefix,l.stripTrailingSlash=t.stripTrailingSlash,l.decodePercentEncoding=t.decodePercentEncoding,l}return r(t,n),t.prototype.parseMatches=function(n){for(var t,e=this.matcherRegex,l=this.stripPrefix,u=this.stripTrailingSlash,o=this.decodePercentEncoding,i=this.tagBuilder,r=[];null!==(t=e.exec(n));){var a=t[0],s=t[1],c=t[4],p=t.index,d=t[5]||t[9],m=n.charAt(p-1);if(S.isValid(a,s)&&!(0<p&&"@"===m||0<p&&d&&this.wordCharRegExp.test(m))){if(/\?$/.test(a)&&(a=a.substr(0,a.length-1)),this.matchHasUnbalancedClosingParen(a))a=a.substr(0,a.length-1);else{var h=this.matchHasInvalidCharAfterTld(a,s);-1<h&&(a=a.substr(0,h))}r.push(new b({tagBuilder:i,matchedText:a,offset:p,urlMatchType:s?"scheme":c?"www":"tld",url:a,protocolUrlMatch:!!s,protocolRelativeMatch:!!d,stripPrefix:l,stripTrailingSlash:u,decodePercentEncoding:o}))}}return r},t.prototype.matchHasUnbalancedClosingParen=function(n){var t,e=n.charAt(n.length-1);if(")"===e)t="(";else{if("]"!==e)return!1;t="["}for(var l=0,u=0,o=n.length-1;u<o;u++){var i=n.charAt(u);i===t?l++:i===e&&(l=Math.max(l-1,0))}return 0===l},t.prototype.matchHasInvalidCharAfterTld=function(n,t){if(!n)return-1;var e=0;t&&(e=n.indexOf(":"),n=n.slice(e));var l=new RegExp("^((.?//)?[-."+k+"]*[-"+k+"]\\.[-"+k+"]+)").exec(n);return null===l?-1:(e+=l[1].length,n=n.slice(l[1].length),/^[^-.A-Za-z0-9:\/?#]/.test(n)?e:-1)},t}(m),T=function(n){function t(t){var e=n.call(this,t)||this;return e.serviceName="twitter",e.matcherRegex=new RegExp("#[_"+k+"]{1,139}(?![_"+k+"])","g"),e.nonWordCharRegex=new RegExp("[^"+k+"]"),e.serviceName=t.serviceName,e}return r(t,n),t.prototype.parseMatches=function(n){for(var t,e=this.matcherRegex,l=this.nonWordCharRegex,u=this.serviceName,o=this.tagBuilder,i=[];null!==(t=e.exec(n));){var r=t.index,a=n.charAt(r-1);if(0===r||l.test(a)){var s=t[0],p=t[0].slice(1);i.push(new c({tagBuilder:o,matchedText:s,offset:r,serviceName:u,hashtag:p}))}}return i},t}(m),j=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.matcherRegex=/(?:(?:(?:(\+)?\d{1,3}[-\040.]?)?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]?\d{4})|(?:(\+)(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-\040.]?(?:\d[-\040.]?){6,12}\d+))([,;]+[0-9]+#?)*/g,t}return r(t,n),t.prototype.parseMatches=function(n){for(var t,e=this.matcherRegex,l=this.tagBuilder,u=[];null!==(t=e.exec(n));){var o=t[0],i=o.replace(/[^0-9,;#]/g,""),r=!(!t[1]&&!t[2]),a=0==t.index?"":n.substr(t.index-1,1),s=n.substr(t.index+o.length,1),c=!a.match(/\d/)&&!s.match(/\d/);this.testMatch(t[3])&&this.testMatch(o)&&c&&u.push(new d({tagBuilder:l,matchedText:o,offset:t.index,number:i,plusSign:r}))}return u},t.prototype.testMatch=function(n){return/\D/.test(n)},t}(m),q=function(n){function t(t){var e=n.call(this,t)||this;return e.serviceName="twitter",e.matcherRegexes={twitter:new RegExp("@[_"+k+"]{1,50}(?![_"+k+"])","g"),instagram:new RegExp("@[_."+k+"]{1,30}(?![_"+k+"])","g"),soundcloud:new RegExp("@[-_."+k+"]{1,50}(?![-_"+k+"])","g")},e.nonWordCharRegex=new RegExp("[^"+k+"]"),e.serviceName=t.serviceName,e}return r(t,n),t.prototype.parseMatches=function(n){var t,e=this.serviceName,l=this.matcherRegexes[this.serviceName],u=this.nonWordCharRegex,o=this.tagBuilder,i=[];if(!l)return i;for(;null!==(t=l.exec(n));){var r=t.index,a=n.charAt(r-1);if(0===r||u.test(a)){var s=t[0].replace(/\.+$/g,""),c=s.slice(1);i.push(new p({tagBuilder:o,matchedText:s,offset:r,serviceName:e,mention:c}))}}return i},t}(m),z=function(n){void 0===n&&(n={}),this.idx=void 0!==n.idx?n.idx:-1,this.type=n.type||"tag",this.name=n.name||"",this.isOpening=!!n.isOpening,this.isClosing=!!n.isClosing};return function(){function n(t){void 0===t&&(t={}),this.version=n.version,this.urls={},this.email=!0,this.phone=!0,this.hashtag=!1,this.mention=!1,this.newWindow=!0,this.stripPrefix={scheme:!0,www:!0},this.stripTrailingSlash=!0,this.decodePercentEncoding=!0,this.truncate={length:0,location:"end"},this.className="",this.replaceFn=null,this.context=void 0,this.matchers=null,this.tagBuilder=null,this.urls=this.normalizeUrlsCfg(t.urls),this.email="boolean"==typeof t.email?t.email:this.email,this.phone="boolean"==typeof t.phone?t.phone:this.phone,this.hashtag=t.hashtag||this.hashtag,this.mention=t.mention||this.mention,this.newWindow="boolean"==typeof t.newWindow?t.newWindow:this.newWindow,this.stripPrefix=this.normalizeStripPrefixCfg(t.stripPrefix),this.stripTrailingSlash="boolean"==typeof t.stripTrailingSlash?t.stripTrailingSlash:this.stripTrailingSlash,this.decodePercentEncoding="boolean"==typeof t.decodePercentEncoding?t.decodePercentEncoding:this.decodePercentEncoding;var e=this.mention;if(!1!==e&&"twitter"!==e&&"instagram"!==e&&"soundcloud"!==e)throw new Error("invalid `mention` cfg - see docs");var l=this.hashtag;if(!1!==l&&"twitter"!==l&&"facebook"!==l&&"instagram"!==l)throw new Error("invalid `hashtag` cfg - see docs");this.truncate=this.normalizeTruncateCfg(t.truncate),this.className=t.className||this.className,this.replaceFn=t.replaceFn||this.replaceFn,this.context=t.context||this}return n.link=function(t,e){return new n(e).link(t)},n.parse=function(t,e){return new n(e).parse(t)},n.prototype.normalizeUrlsCfg=function(n){return null==n&&(n=!0),"boolean"==typeof n?{schemeMatches:n,wwwMatches:n,tldMatches:n}:{schemeMatches:"boolean"!=typeof n.schemeMatches||n.schemeMatches,wwwMatches:"boolean"!=typeof n.wwwMatches||n.wwwMatches,tldMatches:"boolean"!=typeof n.tldMatches||n.tldMatches}},n.prototype.normalizeStripPrefixCfg=function(n){return null==n&&(n=!0),"boolean"==typeof n?{scheme:n,www:n}:{scheme:"boolean"!=typeof n.scheme||n.scheme,www:"boolean"!=typeof n.www||n.www}},n.prototype.normalizeTruncateCfg=function(n){return"number"==typeof n?{length:n,location:"end"}:function(n,t){for(var e in t)t.hasOwnProperty(e)&&void 0===n[e]&&(n[e]=t[e]);return n}(n||{},{length:Number.POSITIVE_INFINITY,location:"end"})},n.prototype.parse=function(n){var t=this,l=["a","style","script"],u=0,o=[];return function(n,t){for(var l,u=t.onOpenTag,o=t.onCloseTag,i=t.onText,r=t.onComment,s=t.onDoctype,c=new z,p=0,d=n.length,b=0,m=0,x=c;p<d;){var A=n.charAt(p);switch(b){case 0:y(A);break;case 1:w(A);break;case 2:_(A);break;case 3:k(A);break;case 4:F(A);break;case 5:B(A);break;case 6:D(A);break;case 7:E(A);break;case 8:M(A);break;case 9:P(A);break;case 10:O(A);break;case 11:S(A);break;case 12:I(A);break;case 13:"--"===n.substr(p,2)?(p+=2,x=new z(a({},x,{type:"comment"})),b=14):"DOCTYPE"===n.substr(p,7).toUpperCase()?(p+=7,x=new z(a({},x,{type:"doctype"})),b=20):H();break;case 14:T(A);break;case 15:j(A);break;case 16:q(A);break;case 17:R(A);break;case 18:N(A);break;case 19:L(A);break;case 20:U(A);break;default:e(b)}p++}function y(n){"<"===n&&K()}function w(n){"!"===n?b=13:"/"===n?(b=2,x=new z(a({},x,{isClosing:!0}))):"<"===n?K():x=h.test(n)?(b=3,new z(a({},x,{isOpening:!0}))):(b=0,c)}function k(n){f.test(n)?(x=new z(a({},x,{name:$()})),b=4):"<"===n?K():"/"===n?(x=new z(a({},x,{name:$()})),b=12):">"===n?(x=new z(a({},x,{name:$()})),W()):h.test(n)||g.test(n)||H()}function _(n){">"===n?H():h.test(n)?b=3:H()}function F(n){f.test(n)||("/"===n?b=12:">"===n?W():"<"===n?K():"="===n||C.test(n)||v.test(n)?H():b=5)}function B(n){f.test(n)?b=6:"/"===n?b=12:"="===n?b=7:">"===n?W():"<"===n?K():C.test(n)&&H()}function D(n){f.test(n)||("/"===n?b=12:"="===n?b=7:">"===n?W():"<"===n?K():C.test(n)?H():b=5)}function E(n){f.test(n)||('"'===n?b=8:"'"===n?b=9:/[>=`]/.test(n)?H():"<"===n?K():b=10)}function M(n){'"'===n&&(b=11)}function P(n){"'"===n&&(b=11)}function O(n){f.test(n)?b=4:">"===n?W():"<"===n&&K()}function S(n){f.test(n)?b=4:"/"===n?b=12:">"===n?W():"<"===n?K():(b=4,p--)}function I(n){">"===n?(x=new z(a({},x,{isClosing:!0})),W()):b=4}function T(n){"-"===n?b=15:">"===n?H():b=16}function j(n){"-"===n?b=18:">"===n?H():b=16}function q(n){"-"===n&&(b=17)}function R(n){b="-"===n?18:16}function N(n){">"===n?W():"!"===n?b=19:"-"===n||(b=16)}function L(n){"-"===n?b=17:">"===n?W():b=16}function U(n){">"===n?W():"<"===n&&K()}function H(){b=0,x=c}function K(){b=1,x=new z({idx:p})}function W(){var t=n.slice(m,x.idx);t&&i(t,m),"comment"===x.type?r(x.idx):"doctype"===x.type?s(x.idx):(x.isOpening&&u(x.name,x.idx),x.isClosing&&o(x.name,x.idx)),H(),m=p+1}function $(){return n.slice(x.idx+(x.isClosing?2:1),p).toLowerCase()}m<p&&(l=n.slice(m,p),i(l,m),m=p+1)}(n,{onOpenTag:function(n){0<=l.indexOf(n)&&u++},onText:function(n,e){if(0===u){var l=function(n,t){if(!t.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var e,l=[],u=0;e=t.exec(n);)l.push(n.substring(u,e.index)),l.push(e[0]),u=e.index+e[0].length;return l.push(n.substring(u)),l}(n,/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi),i=e;l.forEach(function(n,e){if(e%2==0){var l=t.parseText(n,i);o.push.apply(o,l)}i+=n.length})}},onCloseTag:function(n){0<=l.indexOf(n)&&(u=Math.max(u-1,0))},onComment:function(n){},onDoctype:function(n){}}),o=this.compactMatches(o),o=this.removeUnwantedMatches(o)},n.prototype.compactMatches=function(n){n.sort(function(n,t){return n.getOffset()-t.getOffset()});for(var t=0;t<n.length-1;t++){var e=n[t],l=e.getOffset(),u=e.getMatchedText().length,o=l+u;if(t+1<n.length){if(n[t+1].getOffset()===l){var i=n[t+1].getMatchedText().length>u?t:t+1;n.splice(i,1);continue}n[t+1].getOffset()<o&&n.splice(t+1,1)}}return n},n.prototype.removeUnwantedMatches=function(n){return this.hashtag||t(n,function(n){return"hashtag"===n.getType()}),this.email||t(n,function(n){return"email"===n.getType()}),this.phone||t(n,function(n){return"phone"===n.getType()}),this.mention||t(n,function(n){return"mention"===n.getType()}),this.urls.schemeMatches||t(n,function(n){return"url"===n.getType()&&"scheme"===n.getUrlMatchType()}),this.urls.wwwMatches||t(n,function(n){return"url"===n.getType()&&"www"===n.getUrlMatchType()}),this.urls.tldMatches||t(n,function(n){return"url"===n.getType()&&"tld"===n.getUrlMatchType()}),n},n.prototype.parseText=function(n,t){void 0===t&&(t=0),t=t||0;for(var e=this.getMatchers(),l=[],u=0,o=e.length;u<o;u++){for(var i=e[u].parseMatches(n),r=0,a=i.length;r<a;r++)i[r].setOffset(t+i[r].getOffset());l.push.apply(l,i)}return l},n.prototype.link=function(n){if(!n)return"";for(var t=this.parse(n),e=[],l=0,u=0,o=t.length;u<o;u++){var i=t[u];e.push(n.substring(l,i.getOffset())),e.push(this.createMatchReturnVal(i)),l=i.getOffset()+i.getMatchedText().length}return e.push(n.substring(l)),e.join("")},n.prototype.createMatchReturnVal=function(n){var t;return this.replaceFn&&(t=this.replaceFn.call(this.context,n)),"string"==typeof t?t:!1===t?n.getMatchedText():t instanceof l?t.toAnchorString():n.buildTag().toAnchorString()},n.prototype.getMatchers=function(){if(this.matchers)return this.matchers;var n=this.getTagBuilder(),t=[new T({tagBuilder:n,serviceName:this.hashtag}),new M({tagBuilder:n}),new j({tagBuilder:n}),new q({tagBuilder:n,serviceName:this.mention}),new I({tagBuilder:n,stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding})];return this.matchers=t},n.prototype.getTagBuilder=function(){var n=this.tagBuilder;return n||(n=this.tagBuilder=new u({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),n},n.version="3.0.4",n.AnchorTagBuilder=u,n.HtmlTag=l,n.matcher={Email:M,Hashtag:T,Matcher:m,Mention:q,Phone:j,Url:I},n.match={Email:s,Hashtag:c,Match:o,Mention:p,Phone:d,Url:b},n}()}()}}]);