<div class="logo">
  <img
    src="../../../assets/images/nav_logo.png"
    alt=""
    width="150"
    height="150"
  />
</div>

<mat-card class="login-card">
  <mat-toolbar>
    <span>LOGIN</span>
  </mat-toolbar>
  <mat-progress-bar *ngIf="loading | async" class="login-margin" mode="query">
  </mat-progress-bar>

  <mat-card-content>
    <form [formGroup]="loginForm" class="login-container" (ngSubmit)="login()">
      <mat-form-field>
        <input
          matInput
          placeholder="Enter your email"
          formControlName="email"
          required
        />
        <mat-error *ngIf="email.invalid && email.touched && email.dirty"
          >Not a valid email</mat-error
        >
      </mat-form-field>

      <mat-form-field>
        <input
          matInput
          [type]="showPassword ? 'text' : 'password'"
          placeholder="Enter your password"
          formControlName="password"
          required
        />
        <button
          type="button"
          mat-button
          matSuffix
          mat-icon-button
          (click)="showPassword = !showPassword"
        >
          <mat-icon
            *ngIf="showPassword"
            fontSet="fa"
            fontIcon="fa-eye"
          ></mat-icon>
          <mat-icon
            *ngIf="!showPassword"
            fontSet="fa"
            fontIcon="fa-eye-slash"
          ></mat-icon>
        </button>
        <mat-error
          *ngIf="password.invalid && password.touched && password.dirty"
          >Not a valid password (6 or more characters)</mat-error
        >
      </mat-form-field>
      <mat-card-actions>
        <button
          id="login"
          mat-raised-button
          [disabled]="loginForm.invalid || isSubmitted"
        >
          Login
        </button>
        <div style="display:flex; width:100%">
          <button
            type="button"
            id="forgotpassword"
            (click)="openForgotPassword()"
            mat-button
          >
            Forgot Password?
          </button>
          <button
            type="button"
            id="havingtrouble"
            (click)="openHavingTrouble()"
            mat-button
          >
            Having Trouble?
          </button>
        </div>
      </mat-card-actions>
    </form>
  </mat-card-content>
</mat-card>
