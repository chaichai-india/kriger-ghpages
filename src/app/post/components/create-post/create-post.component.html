<form [formGroup]="postForm" (ngSubmit)="postSubmit()" class="post-form">
  <mat-form-field id="text" appearance="outline">
    <textarea
      matInput
      maxlength="5000"
      formControlName="text"
      wrap="hard"
      cdkTextareaAutosize
      #autosize="cdkTextareaAutosize"
      cdkAutosizeMinRows="5"
      cdkAutosizeMaxRows="10"
      placeholder="Grow your knowledge by sharing. Don't post any political or unparliamentary content."
      required
      #text
    ></textarea>
    <small style="float: right" class="text-counter"
      ><code>{{ text.value.length }}</code> of <code>5000</code></small
    >
  </mat-form-field>
  <!-- <label for="image">Add Image</label> -->
  <!-- *ngIf="imageBtnClicked" -->
  <input
    style="display: none"
    type="file"
    accept="image/jpeg, image/png"
    name="image"
    id="image"
    (change)="onImageChange($event)"
  />
  <input
    type="file"
    accept="application/pdf"
    name="pdf"
    id="pdf"
    *ngIf="pdfBtnClicked"
  />
  <figure id="preview">
    <img
      *ngIf="imagePreview"
      [src]="sanitizer.bypassSecurityTrustUrl(imagePreview)"
    />
  </figure>
  <label
    for="image"
    mat-icon-button
    (click)="imageBtnClicked = !imageBtnClicked"
    *ngIf="!pdfBtnClicked"
  >
    <mat-icon>add_photo_alternate</mat-icon>
  </label>
  <button
    type="button"
    mat-icon-button
    (click)="pdfBtnClicked = !pdfBtnClicked"
    *ngIf="!imageBtnClicked"
  >
    <mat-icon>picture_as_pdf</mat-icon>
  </button>
  <button
    mat-raised-button
    id="submit"
    [disabled]="!postForm.valid"
    type="submit"
  >
    Post
  </button>
</form>
