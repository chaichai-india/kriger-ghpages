<form [formGroup]="postForm" (ngSubmit)="postSubmit()" class="post-form">
  <mat-form-field id="text" appearance="outline">
    <textarea
      matInput
      maxlength="5000"
      formControlName="text"
      wrap="hard"
      cdkTextareaAutosize
      #autosize="cdkTextareaAutosize"
      cdkAutosizeMinRows="5"
      cdkAutosizeMaxRows="10"
      placeholder="Grow your knowledge by sharing. Don't post any political or unparliamentary content."
      required
      #text
    ></textarea>
    <small style="float: right" class="text-counter"
      ><code>{{ text.value.length }}</code> of <code>5000</code></small
    >
  </mat-form-field>
  <!-- <label for="image">Add Image</label> -->
  <!-- *ngIf="imageBtnClicked" -->
  <input
    style="display: none"
    type="file"
    accept="image/jpeg, image/png"
    name="image"
    id="image"
    #image
    formControlName="image"
    (change)="onImageChange($event)"
  />
  <!-- *ngIf="pdfBtnClicked" -->
  <input
    style="display: none"
    type="file"
    accept="application/pdf"
    name="pdf"
    id="pdf"
    #pdf
    formControlName="pdf"
    (change)="onPdfChange($event)"
  />
  <div class="labels__container">
    <div class="labels">
      <!-- (click)="imageBtnClicked = !imageBtnClicked" -->
      <label for="image" mat-icon-button *ngIf="!pdfBtnClicked">
        <mat-icon>{{
          imageBtnClicked ? "photo" : "add_photo_alternate"
        }}</mat-icon>
        <span>{{ imageName ? imageName : "Attach IMAGE" }}</span>
      </label>
      <button
        type="button"
        mat-icon-button
        *ngIf="imageBtnClicked"
        (click)="removeImage()"
      >
        <mat-icon>close</mat-icon>
      </button>
    </div>
    <div class="labels">
      <!-- (click)="pdfBtnClicked = !pdfBtnClicked" -->
      <label for="pdf" mat-icon-button *ngIf="!imageBtnClicked">
        <mat-icon>picture_as_pdf</mat-icon>
        <span>{{ pdfName ? pdfName : "Attach PDF" }}</span>
      </label>
      <button
        type="button"
        mat-icon-button
        *ngIf="pdfBtnClicked"
        (click)="removePdf()"
      >
        <mat-icon>close</mat-icon>
      </button>
    </div>
  </div>

  <figure id="preview">
    <img
      *ngIf="imagePreview"
      [src]="sanitizer.bypassSecurityTrustUrl(imagePreview)"
    />
  </figure>

  <button
    mat-raised-button
    id="submit"
    [disabled]="!postForm.valid"
    type="submit"
  >
    Post
  </button>
</form>
